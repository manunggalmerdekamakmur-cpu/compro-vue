index.html:
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PT. Manunggal Merdeka Makmur – Produsen Pupuk Organik Berkualitas</title>
  <meta name="description" content="PT. Manunggal Merdeka Makmur adalah produsen pupuk organik dan agen hayati berkualitas tinggi untuk pertanian berkelanjutan.">
  <meta name="theme-color" content="#0b1f14">
  <meta name="robots" content="index, follow">

  <!-- Preconnect untuk CDN -->
  <link rel="preconnect" href="https://res.cloudinary.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  
  <!-- Critical CSS Inline -->
  <style>
    /* Critical CSS - minimal untuk above-the-fold */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { 
      font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', system-ui, -apple-system, sans-serif;
      overflow-x: hidden; 
      background: #ffffff;
    }
    
    /* Loading overlay */
    #app-loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }
    
    .css-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(26, 125, 62, 0.1);
      border-radius: 50%;
      border-top-color: #1a7d3e;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .loading-text {
      color: #1a7d3e;
      font-size: 0.9rem;
      font-weight: 500;
      margin-top: 1rem;
    }
    
    /* Container untuk mencegah layout shift */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    
    /* Skeleton loading untuk images */
    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  </style>

  <!-- Non-critical CSS (load async) -->
  <link rel="preload" href="/assets/css/style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="/assets/css/product.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/product.css">
  </noscript>

  <!-- Font Awesome (async) -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461077/favicon_cqc5pw.ico">
  
  <!-- Preload hanya gambar kritis untuk above-the-fold -->
  <link rel="preload" as="image" href="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461104/menyemprot_a4hkac.webp" type="image/webp" fetchpriority="high">
  <link rel="preload" as="image" href="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461076/logo_xipkza.webp" type="image/webp" fetchpriority="high">
</head>

<body class="loading">
  <div id="app"></div>

  <!-- Loading overlay -->
  <div id="app-loading">
    <div class="css-spinner"></div>
    <div class="loading-text">Memuat aplikasi...</div>
  </div>

  <!-- Scripts - defer semua -->
  <script src="/assets/js/app.js" defer></script>
  <script src="/src/main.js" type="module" defer></script>
  
  <!-- Performance monitoring -->
  <script>
    // Track LCP
    const lcpObserver = new PerformanceObserver((entryList) => {
      const entries = entryList.getEntries();
      const lastEntry = entries[entries.length - 1];
      console.log('LCP:', lastEntry.startTime);
    });
    lcpObserver.observe({ type: 'largest-contentful-paint', buffered: true });

    // Track CLS
    const clsObserver = new PerformanceObserver((entryList) => {
      for (const entry of entryList.getEntries()) {
        if (!entry.hadRecentInput) {
          console.log('CLS:', entry.value);
        }
      }
    });
    clsObserver.observe({ type: 'layout-shift', buffered: true });
  </script>
</body>
</html>

assets/js/app.js:
(function() {
  const CONFIG = {
    debounceDelay: 150,
    throttleLimit: 200,
    scrollThreshold: 300,
    imageOffset: 100
  }
  
  const debounce = (fn, delay) => {
    let timeoutId
    return function(...args) {
      clearTimeout(timeoutId)
      timeoutId = setTimeout(() => fn.apply(this, args), delay)
    }
  }
  
  const throttle = (fn, limit) => {
    let inThrottle, lastTime
    return function(...args) {
      const now = Date.now()
      if (!inThrottle) {
        fn.apply(this, args)
        lastTime = now
        inThrottle = true
        setTimeout(() => { inThrottle = false }, limit)
      }
    }
  }
  
  class PerformanceMonitor {
    constructor() {
      this.marks = new Map()
    }
    
    mark(name) {
      this.marks.set(name, performance.now())
    }
    
    measure(name, start, end) {
      const s = this.marks.get(start)
      const e = this.marks.get(end)
      if (s && e) {
        const duration = e - s
        if (duration > 100) {
          console.log(`Performance: ${name} - ${duration.toFixed(2)}ms`)
        }
        return duration
      }
    }
  }
  
  class LazyLoader {
    constructor() {
      this.observer = null
      this.loadedImages = new Set()
      this.pendingImages = new WeakMap()
      this.loadingImages = new WeakMap()
      this.init()
    }
    
    init() {
      const config = {
        root: null,
        rootMargin: `${CONFIG.imageOffset}px 0px`,
        threshold: 0.01
      }
      
      this.observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            this.loadImage(entry.target)
          }
        })
      }, config)
      
      const preconnect = document.createElement('link')
      preconnect.rel = 'preconnect'
      preconnect.href = 'https://res.cloudinary.com'
      document.head.appendChild(preconnect)
    }
    
    observe(img) {
      if (!img || !img.dataset.src || this.loadedImages.has(img)) return
      
      if (this.pendingImages.has(img)) {
        return
      }
      
      this.pendingImages.set(img, true)
      this.loadingImages.set(img, true)
      img.classList.add('image-loading')
      
      const parent = img.parentElement
      if (parent && !img.style.minHeight) {
        const height = parent.offsetHeight || 200
        img.style.minHeight = `${height}px`
      }
      
      const placeholder = parent?.querySelector('.image-placeholder')
      if (placeholder) {
        placeholder.style.display = 'flex'
      }
      
      if (!img.src || img.src.startsWith('data:')) {
        img.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200"%3E%3Crect fill="%23f5f5f5" width="300" height="200"/%3E%3C/svg%3E'
      }
      
      const rect = img.getBoundingClientRect()
      const viewportHeight = window.innerHeight
      
      if (rect.top < viewportHeight + 200) {
        setTimeout(() => this.loadImage(img), 50)
      } else {
        this.observer.observe(img)
      }
    }
    
    loadImage(img) {
      if (!img.dataset.src || this.loadedImages.has(img)) return
      
      const src = img.dataset.src
      const loader = new Image()
      
      loader.onload = () => {
        setTimeout(() => {
          img.src = src
          img.removeAttribute('data-src')
          img.classList.remove('image-loading')
          img.classList.add('image-loaded')
          img.style.minHeight = ''
          this.loadedImages.add(img)
          this.pendingImages.delete(img)
          this.loadingImages.delete(img)
          this.observer.unobserve(img)
          
          const placeholder = img.parentElement?.querySelector('.image-placeholder')
          if (placeholder) {
            placeholder.style.opacity = '0'
            setTimeout(() => {
              placeholder.style.display = 'none'
            }, 300)
          }
        }, 100)
      }
      
      loader.onerror = () => {
        img.classList.remove('image-loading')
        img.classList.add('image-error')
        img.style.minHeight = ''
        this.pendingImages.delete(img)
        this.loadingImages.delete(img)
        this.observer.unobserve(img)
        
        const placeholder = img.parentElement?.querySelector('.image-placeholder')
        if (placeholder) {
          placeholder.innerHTML = '<div style="color:#999;font-size:14px;">⚠️ Gagal memuat</div>'
        }
      }
      
      loader.src = src
    }
    
    scan(container = document) {
      const images = container.querySelectorAll('img[data-src]')
      images.forEach(img => this.observe(img))
    }
    
    scanAndWait() {
      return new Promise(resolve => {
        this.scan()
        setTimeout(() => {
          const pending = Array.from(document.querySelectorAll('img.image-loading'))
          if (pending.length === 0) {
            resolve()
            return
          }
          
          let loadedCount = 0
          const checkComplete = () => {
            loadedCount++
            if (loadedCount === pending.length) resolve()
          }
          
          pending.forEach(img => {
            img.addEventListener('load', checkComplete, { once: true })
            img.addEventListener('error', checkComplete, { once: true })
          })
          
          setTimeout(resolve, 3000)
        }, 100)
      })
    }
    
    destroy() {
      if (this.observer) this.observer.disconnect()
      this.loadedImages.clear()
      this.pendingImages = new WeakMap()
      this.loadingImages = new WeakMap()
    }
  }
  
  class ScrollManager {
    constructor() {
      this.isScrolling = false
      this.positions = new Map()
    }
    
    savePosition() {
      const path = window.location.pathname
      this.positions.set(path, {
        x: window.pageXOffset,
        y: window.pageYOffset,
        time: Date.now()
      })
    }
    
    restorePosition() {
      const path = window.location.pathname
      const pos = this.positions.get(path)
      
      if (pos && Date.now() - pos.time < 30000) {
        requestAnimationFrame(() => {
          window.scrollTo(pos.x, pos.y)
        })
      }
    }
    
    scrollToTop(smooth = true) {
      if (this.isScrolling) return
      
      this.isScrolling = true
      const options = { top: 0 }
      if (smooth) options.behavior = 'smooth'
      
      window.scrollTo(options)
      
      setTimeout(() => {
        this.isScrolling = false
      }, 500)
    }
    
    scrollToElement(element, offset = 80, smooth = true) {
      if (this.isScrolling || !element) return
      
      this.isScrolling = true
      const rect = element.getBoundingClientRect()
      const top = rect.top + window.pageYOffset - offset
      
      const options = { top }
      if (smooth) options.behavior = 'smooth'
      
      window.scrollTo(options)
      
      setTimeout(() => {
        this.isScrolling = false
      }, 500)
    }
  }
  
  class LayoutManager {
    constructor() {
      this.observer = null
      this.elements = new WeakMap()
      this.init()
    }
    
    init() {
      this.observer = new ResizeObserver(
        debounce((entries) => {
          entries.forEach(entry => {
            const target = entry.target
            const cachedHeight = this.elements.get(target)
            const newHeight = entry.contentRect.height
            
            if (!cachedHeight || Math.abs(cachedHeight - newHeight) > 5) {
              this.elements.set(target, newHeight)
              target.style.setProperty('--dynamic-height', `${newHeight}px`)
            }
          })
        }, 100)
      )
    }
    
    observe(element) {
      if (!element || this.elements.has(element)) return
      
      const rect = element.getBoundingClientRect()
      this.elements.set(element, rect.height)
      element.style.setProperty('--dynamic-height', `${rect.height}px`)
      
      this.observer.observe(element)
    }
    
    unobserve(element) {
      if (this.elements.has(element)) {
        this.observer.unobserve(element)
        this.elements.delete(element)
      }
    }
    
    destroy() {
      this.observer.disconnect()
      this.elements = new WeakMap()
    }
  }
  
  class Application {
    constructor() {
      this.perf = new PerformanceMonitor()
      this.lazyLoader = new LazyLoader()
      this.scrollManager = new ScrollManager()
      this.layoutManager = new LayoutManager()
      this.isInitialized = false
      this.scrollHandler = null
    }
    
    async init() {
      if (this.isInitialized) return
      
      this.perf.mark('app-init-start')
      
      await this.waitForDOM()
      
      this.setupEventListeners()
      this.setupSmoothScrolling()
      this.setupBackToTop()
      
      this.isInitialized = true
      
      this.perf.mark('app-init-end')
      this.perf.measure('App Initialization', 'app-init-start', 'app-init-end')
    }
    
    waitForDOM() {
      if (document.readyState === 'complete') return Promise.resolve()
      
      return new Promise(resolve => {
        const checkReady = () => {
          if (document.readyState === 'complete') {
            resolve()
          } else {
            setTimeout(checkReady, 50)
          }
        }
        checkReady()
      })
    }
    
    setupEventListeners() {
      this.scrollHandler = throttle(() => {
        this.scrollManager.savePosition()
      }, CONFIG.throttleLimit)
      
      window.addEventListener('scroll', this.scrollHandler, { passive: true })
      window.addEventListener('beforeunload', () => this.scrollManager.savePosition())
    }
    
    setupSmoothScrolling() {
      document.addEventListener('click', debounce((e) => {
        const link = e.target.closest('a[href^="#"]')
        if (link) {
          e.preventDefault()
          const id = link.getAttribute('href').substring(1)
          const element = document.getElementById(id)
          if (element) this.scrollManager.scrollToElement(element)
        }
      }, CONFIG.debounceDelay))
    }
    
    setupBackToTop() {
      const btn = document.querySelector('.back-to-top')
      if (!btn) return
      
      const updateButton = throttle(() => {
        const show = window.scrollY > CONFIG.scrollThreshold
        btn.classList.toggle('visible', show)
      }, CONFIG.throttleLimit)
      
      window.addEventListener('scroll', updateButton, { passive: true })
      btn.addEventListener('click', () => this.scrollManager.scrollToTop())
      
      updateButton()
    }
    
    afterVueMount() {
      setTimeout(() => {
        this.scrollManager.restorePosition()
      }, 100)
      
      this.setupVueLazyLoading()
    }
    
    setupVueLazyLoading() {
      setTimeout(() => {
        this.lazyLoader.scan()
      }, 50)
      
      const observer = new MutationObserver(
        debounce((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.type === 'childList') {
              mutation.addedNodes.forEach((node) => {
                if (node.nodeType === 1) {
                  const images = node.querySelectorAll ? node.querySelectorAll('img[data-src]') : []
                  if (node.tagName === 'IMG' && node.dataset.src) {
                    this.lazyLoader.observe(node)
                  }
                  images.forEach(img => this.lazyLoader.observe(img))
                }
              })
            }
          })
        }, 100)
      )
      
      observer.observe(document.body, { childList: true, subtree: true })
    }
    
    waitForAllImages() {
      return this.lazyLoader.scanAndWait()
    }
    
    destroy() {
      if (this.scrollHandler) window.removeEventListener('scroll', this.scrollHandler)
      this.lazyLoader.destroy()
      this.layoutManager.destroy()
      this.isInitialized = false
    }
  }
  
  const app = new Application()
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => app.init())
  } else {
    app.init()
  }
  
  window.App = {
    scrollToTop: () => app.scrollManager.scrollToTop(),
    scrollToElement: (id, offset) => {
      const el = document.getElementById(id)
      if (el) app.scrollManager.scrollToElement(el, offset)
    },
    lazyLoader: app.lazyLoader,
    afterVueMount: () => app.afterVueMount(),
    waitForAllImages: () => app.waitForAllImages(),
    destroy: () => app.destroy()
  }
})()

assets/css/product.css:
.product-detail-page {
  min-height: 800px;
  contain: layout style;
}

.product-skeleton {
  pointer-events: none;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
}

.skeleton-img {
  height: 200px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

.skeleton-content {
  padding: var(--space-md);
}

.skeleton-title {
  height: 24px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 4px;
  margin-bottom: 12px;
}

.skeleton-text {
  height: 16px;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 4px;
  margin-bottom: 8px;
}

.skeleton-text.short {
  width: 70%;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

.image-placeholder {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  transition: opacity 0.3s ease;
}

.image-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(26, 125, 62, 0.1);
  border-top-color: #1a7d3e;
  border-radius: 50%;
  animation: spinner-rotate 1s linear infinite;
}

@keyframes spinner-rotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.image-loading {
  opacity: 0;
  transition: opacity 0.3s ease;
}

.image-loaded {
  opacity: 1 !important;
  animation: fadeIn 0.5s ease;
}

.image-error {
  opacity: 1;
  background-color: #f5f5f5;
  position: relative;
}

.image-error::after {
  content: '⚠️';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 24px;
  color: #999;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.product-img {
  position: relative;
  overflow: hidden;
  min-height: 200px;
}

.product-img img {
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.product-img img.image-loaded {
  opacity: 1;
}

.product-card {
  will-change: transform;
  contain: layout style paint;
}

.products-grid {
  contain: layout style;
  content-visibility: auto;
  contain-intrinsic-size: 1000px;
}

.related-products-grid {
  contain: layout style;
  content-visibility: auto;
  contain-intrinsic-size: 600px;
}

.loading-state {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 60vh;
}

.loading-state .spinner {
  width: 50px;
  height: 50px;
  border: 5px solid rgba(26, 125, 62, 0.1);
  border-top-color: #1a7d3e;
  border-radius: 50%;
  animation: spinner-rotate 1s linear infinite;
}

.product-detail-page .main-image-container {
  position: relative;
  min-height: 400px;
  background: #f5f5f5;
  display: flex;
  align-items: center;
  justify-content: center;
}

.product-detail-page .main-image {
  opacity: 0;
  transition: opacity 0.4s ease;
}

.product-detail-page .main-image.image-loaded {
  opacity: 1;
}

.thumbnail-item {
  position: relative;
  overflow: hidden;
}

.thumbnail-item img {
  opacity: 0;
  transition: opacity 0.3s ease;
}

.thumbnail-item img.image-loaded {
  opacity: 1;
}

@media (max-width: 768px) {
  .skeleton-img,
  .product-img {
    min-height: 180px;
  }
  
  .image-spinner {
    width: 32px;
    height: 32px;
    border-width: 3px;
  }
  
  .product-detail-page .main-image-container {
    min-height: 300px;
  }
}

.product-images .loading-state,
.related-product-img .loading-state {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f5f5f5;
}

.product-images .spinner,
.related-product-img .spinner {
  width: 32px;
  height: 32px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid var(--primary-color, #1a7d3e);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

.main-image img,
.thumbnail-item img,
.related-product-img img {
  transition: opacity 0.3s ease;
}

.main-image img.loading,
.thumbnail-item img.loading,
.related-product-img img.loading {
  opacity: 0;
}

.main-image img.loaded,
.thumbnail-item img.loaded,
.related-product-img img.loaded {
  opacity: 1;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.breadcrumb {
  background: transparent;
  padding: 0.5rem 0;
  margin-bottom: 1.5rem;
  font-size: 0.875rem;
  color: #888;
  contain: layout style;
}

.breadcrumb nav {
  overflow-x: auto;
  scrollbar-width: none;
}

.breadcrumb nav::-webkit-scrollbar {
  display: none;
}

.breadcrumb ol {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  list-style: none;
  margin: 0;
  padding: 0;
  white-space: nowrap;
}

.breadcrumb li {
  display: inline-flex;
  align-items: center;
}

.breadcrumb li:not(:last-child)::after {
  content: "/";
  margin-left: 0.4rem;
  color: #ccc;
  font-size: 0.75rem;
}

.breadcrumb a {
  color: var(--primary-color, #1a7d3e);
  text-decoration: none;
  font-weight: 500;
  transition: opacity 0.2s ease;
}

.breadcrumb a:hover {
  opacity: 0.65;
}

.breadcrumb .current {
  color: #444;
  font-weight: 600;
  pointer-events: none;
}

.breadcrumb .current[aria-current="page"] {
  color: var(--secondary-color, #2c3e50);
}

.product-detail {
  padding: 2rem 0;
}

.product-detail-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  margin-bottom: 4rem;
}

.product-images {
  position: sticky;
  top: 100px;
  height: fit-content;
}

.main-image-container {
  aspect-ratio: 1;
  min-height: 400px;
  background-color: #f5f5f5;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s;
  position: relative;
  contain: layout style paint;
}

.main-image-container:hover {
  transform: scale(1.02);
}

.main-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: opacity 0.3s ease-out;
}

.thumbnail-gallery {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 0.75rem;
  margin-top: 1rem;
}

.thumbnail-item {
  aspect-ratio: 1;
  border: 2px solid transparent;
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s;
  background: none;
  padding: 0;
  position: relative;
}

.thumbnail-item.active {
  border-color: #2ecc71;
}

.thumbnail-item:hover,
.thumbnail-item.active {
  border-color: var(--primary-color);
  transform: scale(1.05);
}

.thumbnail-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-brochure {
  margin-top: 1.5rem;
  border-radius: 8px;
  overflow: hidden;
}

.product-brochure embed {
  width: 100%;
  height: 450px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

.product-stats-detail {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-top: 2rem;
}

.product-stat-item {
  text-align: center;
  padding: 1.5rem 1rem;
  background-color: #f8f9fa;
  border-radius: 8px;
  transition: transform 0.2s;
}

.product-stat-item:hover {
  transform: translateY(-3px);
}

.product-stat-item i {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 0.5rem;
}

.product-stat-item h4 {
  margin: 0.5rem 0 0.25rem;
  font-size: 1rem;
  color: var(--text-color);
}

.product-stat-item p {
  margin: 0;
  font-size: 0.875rem;
  color: #666;
}

.product-info {
  contain: layout style;
}

.product-header {
  margin-bottom: 1.5rem;
}

.product-header h1 {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: var(--secondary-color);
}

.product-badge {
  display: inline-block;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
  margin-right: 0.5rem;
}

.badge-approved {
  background-color: #d4edda;
  color: #155724;
}

.certificate-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background-color: #fff3cd;
  border-radius: 20px;
  font-size: 0.875rem;
  color: #856404;
}

.certificate-badge i {
  color: #ffc107;
}

.product-description {
  font-size: 1.1rem;
  line-height: 1.8;
  color: #555;
  margin-bottom: 2rem;
}

.product-specs,
.product-features,
.product-benefits {
  margin-bottom: 2rem;
}

.product-specs h3,
.product-features h3,
.product-benefits h3 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.25rem;
  margin-bottom: 1rem;
  color: var(--secondary-color);
}

.product-specs h3 i,
.product-features h3 i,
.product-benefits h3 i {
  color: var(--primary-color);
}

.product-specs ul,
.product-features ul,
.product-benefits ul {
  list-style: none;
  padding: 0;
}

.product-specs ul li,
.product-features ul li,
.product-benefits ul li {
  padding: 0.75rem 0;
  border-bottom: 1px solid #eee;
  line-height: 1.6;
}

.product-specs ul li:last-child,
.product-features ul li:last-child,
.product-benefits ul li:last-child {
  border-bottom: none;
}

.product-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s;
}

.btn-primary {
  background-color: var(--primary-color);
  color: white;
}

.btn-primary:hover {
  background-color: #155d2e;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(26, 125, 62, 0.3);
}

.btn-secondary {
  background-color: white;
  color: var(--primary-color);
  border: 2px solid var(--primary-color);
}

.btn-secondary:hover {
  background-color: var(--primary-color);
  color: white;
}

.related-products {
  margin-top: 4rem;
  padding: 3rem 0;
  background-color: #f8f9fa;
  border-radius: 12px;
}

.section-title {
  text-align: center;
  margin-bottom: 3rem;
}

.section-title h2 {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--secondary-color);
}

.section-title p {
  color: #666;
  font-size: 1.1rem;
}

.related-products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
}

.related-product-card {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
  transition: transform 0.3s, box-shadow 0.3s;
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  position: relative;
}

.related-product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.related-product-img {
  aspect-ratio: 4/3;
  overflow: hidden;
  background-color: #f5f5f5;
  position: relative;
}

.related-product-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.related-product-card:hover .related-product-img img {
  transform: scale(1.05);
}

.related-product-info {
  padding: 1.5rem;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.related-product-info h4 {
  font-size: 1.25rem;
  margin-bottom: 0.75rem;
  color: var(--secondary-color);
}

.related-product-info p {
  flex: 1;
  color: #666;
  line-height: 1.6;
  margin-bottom: 1rem;
}

.related-product-link {
  color: var(--primary-color);
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  position: relative;
  max-width: 90%;
  max-height: 90%;
}

.modal-close {
  position: absolute;
  top: -40px;
  right: 0;
  background: none;
  border: none;
  color: white;
  font-size: 30px;
  cursor: pointer;
  padding: 0;
  width:40px;
  height:40px;
  transition: transform 0.2s;
}

.modal-close:hover {
  transform: scale(1.2);
}

.modal-main-image img {
  max-width: 100%;
  max-height: 90vh;
  object-fit: contain;
}

.triobionik-list-page {
  min-height: 600px;
}

.hero-small {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: white;
  padding: 4rem 0;
  text-align: center;
  min-height: 200px;
}

.hero-small h1 {
  font-size: 2.5rem;
  margin-bottom: 1rem;
}

.hero-small p {
  font-size: 1.2rem;
  opacity: 0.9;
}

.products-grid {
  padding: 4rem 0;
}

.products-grid .grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
}

.product-card {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  position: relative;
}

.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.product-image-wrapper {
  position: relative;
  aspect-ratio: 4/3;
  overflow: hidden;
  background-color: #f5f5f5;
}

.product-image-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s;
}

.product-card:hover .product-image-wrapper img {
  transform: scale(1.1);
}

.product-image-wrapper .badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background-color: var(--primary-color);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.875rem;
  font-weight: 600;
}

.product-card .product-info {
  padding: 1.5rem;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.product-card h3 {
  font-size: 1.25rem;
  margin-bottom: 0.75rem;
  color: var(--secondary-color);
}

.product-card .short-desc {
  flex: 1;
  color: #666;
  line-height: 1.6;
  margin-bottom: 1rem;
}

.view-details {
  color: var(--primary-color);
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.product-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
}

.product-pdf-embed {
  width: 100%;
  height: 450px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

.product-gallery {
  position: sticky;
  top: 100px;
  height: fit-content;
  min-height: 400px;
  aspect-ratio: 1;
  contain: layout style;
}

.thumbnails {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 0.75rem;
  margin-top: 1rem;
}

.specs-section,
.features-section,
.benefits-section {
  margin-bottom: 2rem;
}

.specs-section h3,
.features-section h3,
.benefits-section h3 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 1.25rem;
  margin-bottom: 1rem;
  color: var(--secondary-color);
}

.specs-section ul,
.features-section ul,
.benefits-section ul {
  list-style: none;
  padding: 0;
}

.specs-section ul li,
.features-section ul li,
.benefits-section ul li {
  padding: 0.75rem 0;
  border-bottom: 1px solid #eee;
  line-height: 1.6;
}

.actions {
  margin-top: 2rem;
  display: flex;
  gap: 1rem;
}

.product-card-small {
  background-color: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s, box-shadow 0.3s;
  text-decoration: none;
  color: inherit;
  padding: 1.5rem;
  text-align: center;
}

.product-card-small:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.product-card-small .related-product-img {
  aspect-ratio: 1;
  margin-bottom: 1rem;
  border-radius: 8px;
  overflow: hidden;
  background-color: #f5f5f5;
}

.product-card-small img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.product-card-small h4 {
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
  color: var(--secondary-color);
}

.product-card-small .short-desc {
  color: #666;
  font-size: 0.9rem;
}

@media (max-width: 1024px) {
  .product-detail-container,
  .product-layout {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .product-images,
  .product-gallery {
    position: static;
  }
}

@media (max-width: 768px) {
  .product-stats-detail {
    grid-template-columns: 1fr;
  }
  
  .product-actions {
    flex-direction: column;
  }
  
  .btn {
    width: 100%;
    justify-content: center;
  }
  
  .related-products-grid {
    grid-template-columns: 1fr;
  }
  
  .hero-small h1 {
    font-size: 2rem;
  }
  
  .hero-small p {
    font-size: 1rem;
  }
  
  .products-grid .grid {
    grid-template-columns: 1fr;
  }
}

src/data/product.js:
// src/data/product.js
export const productData = {
  'phc-manunggal-lestari': {
    id: 'phc-manunggal-lestari',
    title: 'Pupuk Hayati Cair Manunggal Lestari',
    description: 'Pupuk Hayati Cair unggulan untuk tanaman pangan dan hortikultura yang mengandung mikroorganisme menguntungkan untuk meningkatkan kesuburan tanah dan pertumbuhan tanaman.',
    specs: [
      'Nomor Pendaftaran : 03.02.2024.619',
      'Bentuk Formula : Cair (Liquid)',
      'Warna : Bening Kecoklatan',
      'Ukuran Kemasan : 1 Liter, 2 Liter, dan 5 Liter',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Berdasarkan standar SNI 6729:2016',
      'Nilai TKDN : 87,38%',
      'Aplikasi: Semprot atau siram pada tanah sesuai jenis tanaman dan dosis yang dianjurkan'
    ],
    features: [
      '• Bacillus Subtillis : 5,7 x 10⁷ cfu/ml',
      '• Rhizobium sp. : 5,4 x 10⁷ cfu/ml',
      '• Azotobacter sp. : 1,9 x 10⁷ cfu/ml',
      '• Azospirillum sp. : 3,3 x 10⁷ cfu/ml',
      '• Pseudomonas Fluorescens : 4,1 x 10⁷ cfu/ml',
      '• Streptomyces sp. : 5,5 x 10⁶ cfu/ml',
      '• Trichoderma sp. : 1,3 x 10⁵ cfu/ml'
    ],    
    benefits: [
      '1. Memperbaiki struktur tanah sehingga tanah menjadi lebih subur.',
      '2. Membantu proses penyiapan unsur hara yang mudah diserap oleh tanaman.',
      '3. Menghasilkan beberapa hormon pertumbuhan dan kesehatan pada tanaman.',
      '4. Merangsang sistem penyerapan unsur hara pada tanaman.',
      '5. Melindungi tanaman dari serangan dari berbagai virus dan penyakit pada tanaman.',
      '6. Mengurangi dosis pemupukan kimia pada lahan pertanian maupun perkebunan.',
      '7. Menghasilkan kualitas hasil produksi pertanian maupun perkebunan.'
    ],
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461329/phc-manunggal-lestari-1l_jisg83.webp',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461331/phc-manunggal-lestari_p9nndd.webp'
    ],
    brochure: 'https://res.cloudinary.com/dz1zcobkz/image/upload/manunggal-lestari_rqas2m.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    status: 'approved'
  },

  'phc-manunggal-lestari-dekomposer': {
    id: 'phc-manunggal-lestari-dekomposer',
    title: 'Pupuk Hayati Cair Manunggal Lestari Dekomposer',
    description: 'Pupuk Hayati Cair unggulan untuk tanaman pangan dan hortikultura yang mengandung mikroorganisme menguntungkan untuk meningkatkan kesuburan tanah dan pertumbuhan tanaman.',
    specs: [
      'Nomor Pendaftaran : 03.02.2024.619',
      'Bentuk Formula : Cair (Liquid)',
      'Warna : Bening Kecoklatan',
      'Ukuran Kemasan : 1 Liter, 2 Liter, dan 5 Liter',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Berdasarkan standar SNI 6729:2016',
      'Nilai TKDN : 87,38%',
      'Aplikasi: Semprot atau siram pada tanah sesuai jenis tanaman dan dosis yang dianjurkan'
    ],
    features: [
      '• Bacillus Subtillis : 5,7 x 10⁷ cfu/ml',
      '• Rhizobium sp. : 5,4 x 10⁷ cfu/ml',
      '• Azotobacter sp. : 1,9 x 10⁷ cfu/ml',
      '• Azospirillum sp. : 3,3 x 10⁷ cfu/ml',
      '• Pseudomonas Fluorescens : 4,1 x 10⁷ cfu/ml',
      '• Streptomyces sp. : 5,5 x 10⁶ cfu/ml',
      '• Trichoderma sp. : 1,3 x 10⁵ cfu/ml'
    ],    
    benefits: [
      '1. Memperbaiki struktur tanah sehingga tanah menjadi lebih subur.',
      '2. Membantu proses penyiapan unsur hara yang mudah diserap oleh tanaman.',
      '3. Menghasilkan beberapa hormon pertumbuhan dan kesehatan pada tanaman.',
      '4. Merangsang sistem penyerapan unsur hara pada tanaman.',
      '5. Melindungi tanaman dari serangan dari berbagai virus dan penyakit pada tanaman.',
      '6. Mengurangi dosis pemupukan kimia pada lahan pertanian maupun perkebunan.',
      '7. Menghasilkan kualitas hasil produksi pertanian maupun perkebunan.'
    ],
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461341/dekomposer-5l_jahcyp.webp',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461330/phc-manunggal-lestari-1lbiru_yrwkp1.webp'
    ],
    brochure: 'https://res.cloudinary.com/dz1zcobkz/image/upload/manunggal-lestari_rqas2m.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    status: 'approved'
  },
  
  'php-triobionik': {
    id: 'php-triobionik',
    title: 'Pupuk Hayati Padat Triobionik',
    description: 'Pupuk hayati padat mengandung  beberapa mikroorganisme baik yang berfungsi untuk memperbaiki tingkat kesuburan tanah, mengendalikan mikroorganisme patogen, menghilangkan/mengurai beberapa jenis virus, serta dapat mengendalikan laju perkembangan insektisida.',
    specs: [
      'Kemasan: 25gr, 100gr',
      'Kandungan: Bakteri menguntungkan, hormon tumbuhan alami',
      'Manfaat : Menyuburkan tanah, merangsang pertumbuhan, melindungi tanaman',
      'Aplikasi : Tabur atau campur dengan media tanam',
      'Merek Terdaftar: IDM001289921'
    ],
    features: [
      'Memperbaiki struktur tanah dan meningkatkan penyerapan unsur hara',
      'Merangsang pertumbuhan tanaman melalui hormon alami',
      'Melindungi tanaman dari penyakit dan virus',
      'Meningkatkan hasil produksi pertanian dan perkebunan'
    ],
    benefits: [
      'Meningkatkan hasil panen 30-50%',
      'Mengurangi penggunaan pupuk kimia hingga 40%',
      'Memperbaiki kualitas tanah jangka panjang'
    ],
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461393/triobionik-100gr_c6daud.webp',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461390/triobionik-25gr_fib4dz.webp'
    ],
    brochure: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768465925/triobionik-merah_mbgdwy.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.92',
    status: 'approved'
  },
  
  'triobionik-variants': [
  {
    id: 'triobionik-25gr',
    productId: 'php-triobionik',
    name: 'Triobionik Booster Tanaman Pertanian & Perkebunan',
    title: 'Triobionik 25gr - Pupuk Hayati Padat Booster Tanaman',
    description: 'Pupuk hayati padat mengandung beberapa mikroorganisme baik yang berfungsi untuk memperbaiki tingkat kesuburan tanah, mengendalikan mikroorganisme patogen, menghilangkan/mengurai beberapa jenis virus, serta dapat mengendalikan laju perkembangan insektisida.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.98',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Hitam',
      'Ukuran Kemasan : 25 g, 250 g, 500 g, 1000 g, 2.000 g, 5.000 g, 10.000 g, 25.000 g',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Berdasarkan standar SNI 6729:2016',
      'Nilai TKDN : 50,06%',
      'Aplikasi : Semprot atau siram pada tanah sesuai jenis tanaman dan dosis yang dianjurkan'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁶ CFU/g'
    ],
    benefits: [
      '1. Memperbaiki struktur tanah sehingga tanah menjadi lebih subur.',
      '2. Membantu proses penyiapan unsur hara yang mudah diserap oleh tanaman.',
      '3. Menghasilkan beberapa hormon pertumbuhan dan kesehatan pada tanaman.',
      '4. Merangsang sistem penyerapan unsur hara pada tanaman.',
      '5. Melindungi tanaman dari serangan dari berbagai virus dan penyakit pada tanaman.',
      '6. Mengurangi dosis pemupukan kimia pada lahan pertanian maupun perkebunan.',
      '7. Menghasilkan kualitas hasil produksi pertanian maupun perkebunan.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461390/triobionik-25gr_fib4dz.webp',
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461390/triobionik-25gr_fib4dz.webp',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461399/triobionik-merah_m65bap.webp'
    ],
    brochure: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768465925/triobionik-merah_mbgdwy.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.92',
    shortDesc: 'PHP Triobionik kemasan 25 gram untuk aplikasi praktis',
    status: 'approved'
  },
  {
    id: 'triobionik-100gr',
    productId: 'php-triobionik',
    name: 'Triobionik Booster Tanaman Pertanian & Perkebunan',
    title: 'Triobionik 100gr - Pupuk Hayati Padat untuk Hortikultura',
    description: 'Pupuk hayati padat mengandung beberapa mikroorganisme baik yang berfungsi untuk memperbaiki tingkat kesuburan tanah, mengendalikan mikroorganisme patogen, menghilangkan/mengurai beberapa jenis virus, serta dapat mengendalikan laju perkembangan insektisida.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.98',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Hitam',
      'Ukuran Kemasan : 25 g, 250 g, 500 g, 1000 g, 2.000 g, 5.000 g, 10.000 g, 25.000 g',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Berdasarkan standar SNI 6729:2016',
      'Nilai TKDN : 50,06%',
      'Aplikasi : Semprot atau siram pada tanah sesuai jenis tanaman dan dosis yang dianjurkan'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁶ CFU/g'
    ],
    benefits: [
      '1. Memperbaiki struktur tanah sehingga tanah menjadi lebih subur.',
      '2. Membantu proses penyiapan unsur hara yang mudah diserap oleh tanaman.',
      '3. Menghasilkan beberapa hormon pertumbuhan dan kesehatan pada tanaman.',
      '4. Merangsang sistem penyerapan unsur hara pada tanaman.',
      '5. Melindungi tanaman dari serangan dari berbagai virus dan penyakit pada tanaman.',
      '6. Mengurangi dosis pemupukan kimia pada lahan pertanian maupun perkebunan.',
      '7. Menghasilkan kualitas hasil produksi pertanian maupun perkebunan.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461393/triobionik-100gr_c6daud.webp',
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461393/triobionik-100gr_c6daud.webp'
    ],
    brochure: '/assets/brochures/triobionik.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.98',
    shortDesc: 'PHP Triobionik kemasan 100 gram untuk kebutuhan menengah',
    status: 'approved'
  },
  {
    id: 'triobionik-dekomposer-100gr',
    productId: 'php-triobionik-dekomposer',
    name: 'Triobionik Booster Dekomposer',
    title: 'Triobionik 100gr - Booster Dekomposer untuk Kompos & Septic Tank',
    description:
      'Dekomposer / agen hayati mengandung beberapa mikroorganisme menguntungkan yang membantu menguraikan bahan organik, mempercepat pembuatan kompos, mengurangi bau pada septic tank, serta membantu mengurangi sedimentasi.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.89',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Cokelat / Abu-abu',
      'Ukuran Kemasan : 100 g',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Berdasarkan standar SNI 6729:2016',
      'Aplikasi : Larutkan 5 g (1 sdm) dalam 1 liter air bersih, aduk hingga merata. Inkubasi / diamkan minimal 24 jam untuk aktivasi sebelum aplikasi.'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁵ CFU/g'
    ],
    benefits: [
      '1. Mengandung beberapa mikroorganisme menguntungkan yang mampu membantu mengurai bahan bahan organik dan mineral menjadi unsur unsur sederhana yang mudah diserap oleh sistem pencernaan ikan, unggas dan hewan ternak',
      '2. Mengandung bahan yang merangsang nafsu akan pada ikan, unggas dan hewan ternak',
      '3. Mampu mengurai jasad renik dan beberapa virus yang mengganggu kesehatan ikan, unggas dan hewan ternak.',
      '4. Mampu mengelola sisa sisa makanan maupun kotoran ikan, unggas dan hewan ternak serta manusia sehingga memperkecil dampak pada lingkungan hidup ikan, unggas dan hewan ternak maupun lingkungan Manusia',
      '5. Dalam septik toilet mampu mengendalika bau tak sedap dan mampu merubah bahan organik menjadi gas sehingga mengurangi sedimentasi dalam jamban.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461394/dekomposer_snpwhp.webp',
    images: ['https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461394/dekomposer_snpwhp.webp'],
    brochure: '/assets/brochures/triobionik-dekomposer.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    shortDesc: 'Triobionik Dekomposer kemasan 100 gram — untuk kompos & septic tank',
    status: 'approved',
    meta: {
      batchExample: 'PHP07012026007D',
      productionDate: '07 Januari 2026',
      expiryDate: '07 Januari 2027',
      storage: 'Simpan pada tempat sejuk & terhindar dari sinar matahari langsung'
    }
  },
  {
    id: 'triobionik-septic-100gr',
    productId: 'php-triobionik-septic',
    name: 'Triobionik Septic Tank Booster',
    title: 'Triobionik 100gr - Booster Septic Tank & Pengelolaan Limbah',
    description:
      'Formulasi mikroba untuk pengelolaan septic tank: membantu menguraikan sisa makanan, kotoran, dan organik sehingga mengurangi bau dan memperkecil sedimentasi di jamban / septic tank.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.89',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Abu-abu / Cokelat',
      'Ukuran Kemasan : 100 g',
      'Aplikasi : Larutkan 5 g dalam 1 liter air lalu aplikasikan ke septic tank sesuai petunjuk'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁵ CFU/g'
    ],
    benefits: [
      '1. Mengendalikan bau tidak sedap pada jamban/septic tank.',
      '2. Mengurangi akumulasi padatan dan sedimentasi.',
      '3. Mengubah bahan organik menjadi gas dan unsur yang lebih aman.',
      '4. Menjaga ekosistem mikroba alami agar tetap seimbang.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461388/dekomposer-septic-tank_v3nzfp.webp',
    images: ['https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461388/dekomposer-septic-tank_v3nzfp.webp'],    
    brochure: '/assets/brochures/triobionik-septic.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    shortDesc: 'Triobionik untuk perawatan septic tank — 100 gram',
    status: 'approved',
    meta: {
      batchExample: 'PHP07012026007E',
      productionDate: '07 Januari 2026',
      expiryDate: '07 Januari 2027',
      storage: 'Simpan pada tempat sejuk & terhindar dari sinar matahari langsung'
    }
  },
  {
    id: 'triobionik-ikan-100gr',
    productId: 'php-triobionik-ikan',
    name: 'Triobionik Booster Probiotik Ikan',
    title: 'Triobionik 100gr - Probiotik untuk Budidaya Perikanan',
    description:
      'Probiotik agen hayati untuk ikan dan udang: membantu memperbaiki kualitas air, memperlancar pencernaan ikan, menekan patogen, serta merangsang nafsu makan pada ikan budidaya.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.89',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Cokelat kehitaman (serbuk)',
      'Ukuran Kemasan : 100 g',
      'Aplikasi : Larutkan 5 g (1 sdm) dalam 1 liter air, diamkan/inkubasi minimal 24 jam lalu siramkan ke kolam atau campurkan ke pakan'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁵ CFU/g'
    ],
    benefits: [
      '1. Memperbaiki kualitas air kolam dengan menguraikan sisa organik.',
      '2. Meningkatkan penyerapan nutrisi dan pencernaan ikan.',
      '3. Menekan agen patogen dan mengurangi kejadian penyakit.',
      '4. Merangsang nafsu makan sehingga pertumbuhan lebih optimal.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461389/ikan_vclevn.webp',
    images: ['https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461389/ikan_vclevn.webp'],    
    brochure: '/assets/brochures/triobionik-ikan.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    shortDesc: 'Triobionik Probiotik Ikan kemasan 100 gram untuk budidaya',
    status: 'approved',
    meta: {
      batchExample: 'PHP07012026007A',
      productionDate: '07 Januari 2026',
      expiryDate: '07 Januari 2027',
      storage: 'Simpan pada tempat sejuk & terhindar dari sinar matahari langsung'
    }
  },
  {
    id: 'triobionik-ternak-100gr',
    productId: 'php-triobionik-ternak',
    name: 'Triobionik Booster Probiotik Ternak',
    title: 'Triobionik 100gr - Probiotik & Agen Hayati untuk Ternak',
    description:
      'Probiotik untuk ternak (sapi, kambing, domba, ayam, kelinci, dsb.) yang membantu pencernaan, mengurangi bau kotoran, meningkatkan kesehatan pencernaan, serta mengoptimalkan konversi pakan.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.89',
      'Bentuk Formula : Tepung (Powder)',
      'Warna : Cokelat',
      'Ukuran Kemasan : 100 g',
      'Aplikasi : Campurkan larutan yang sudah diinkubasi ke pakan atau siram pada area kotoran/lingkungan ternak'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁵ CFU/g'
    ],
    benefits: [
      '1. Meningkatkan kesehatan pencernaan ternak.',
      '2. Mengurangi bau dan kandungan patogen pada kotoran ternak.',
      '3. Menurunkan kebutuhan pakan dengan meningkatkan efisiensi pencernaan.',
      '4. Mempercepat pemecahan limbah kandang untuk manajemen kotoran yang lebih baik.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461393/ternak_itc7wc.webp',
    images: ['https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461393/ternak_itc7wc.webp'],
    brochure: '/assets/brochures/triobionik-ternak.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    shortDesc: 'Triobionik Probiotik Ternak kemasan 100 gram untuk berbagai jenis ternak',
    status: 'approved',
    meta: {
      batchExample: 'PHP07012026007B',
      productionDate: '07 Januari 2026',
      expiryDate: '07 Januari 2027',
      storage: 'Simpan pada tempat sejuk & terhindar dari sinar matahari langsung'
    }
  },
  {
    id: 'triobionik-pupuk-hayati-250gr',
    productId: 'php-triobionik-pupuk',
    name: 'Triobionik Pupuk Hayati Padat',
    title: 'Triobionik 250gr - Pupuk Hayati Padat untuk Pertanian & Hortikultura',
    description:
      'Pupuk hayati padat yang diperkaya mikroba hayati & hormon pertumbuhan. Membantu memperbaiki struktur tanah, menyuplai unsur hara yang mudah diserap tanaman, merangsang penyerapan nutrisi, serta mendukung kesehatan akar dan hasil panen.',
    specs: [
      'Nomor Pendaftaran : 03.03.2025.89',
      'Bentuk Formula : Tepung (Powder) - padat',
      'Warna : Hitam / Cokelat gelap',
      'Ukuran Kemasan : 25 g, 100 g, 250 g (varian), 500 g, 1000 g',
      'No. Sertifikasi Organik : 537-LSPr-092-IDN-01-25',
      'Aplikasi : Campurkan ke media tanam, larutkan dan semprotkan / siram sesuai dosis tanaman'
    ],
    features: [
      '• Azotobacter sp. : 4,5 x 10⁷ CFU/g',
      '• Bacillus subtilis : 2,3 x 10⁷ CFU/g',
      '• Pseudomonas fluorescens : 5,4 x 10⁷ CFU/g',
      '• Streptomyces sp. : 1,9 x 10⁶ CFU/g',
      '• Trichoderma sp. : 1,7 x 10⁵ CFU/g'
    ],
    benefits: [
      '1. Memperbaiki struktur tanah sehingga unsur hara lebih mudah diserap.',
      '2. Membantu proses penyiapan unsur hara bagi tanaman hortikultura.',
      '3. Menghasilkan hormon dan faktor pertumbuhan yang mendukung vegetatif dan generatif tanaman.',
      '4. Mengurangi kebutuhan pupuk kimia dan meningkatkan produktivitas hasil panen.',
      '5. Melindungi tanaman dari beberapa patogen tanah.'
    ],
    image: 'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461391/unggas_nnlx3d.webp',
    images: ['https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461391/unggas_nnlx3d.webp'],
    brochure: '/assets/brochures/triobionik-pupuk.pdf',
    badge: 'Berizin',
    certificate: '03.03.2025.89',
    shortDesc: 'Triobionik Pupuk Hayati Padat — kemasan 250 gram (varian lain tersedia)',
    status: 'approved',
    meta: {
      batchExample: 'PHP07012026007C',
      productionDate: '07 Januari 2026',
      expiryDate: '07 Januari 2027',
      storage: 'Simpan pada tempat sejuk & terhindar dari sinar matahari langsung'
    }
  }
],
  
  'manunggal-makmur': {
    id: 'manunggal-makmur',
    title: 'Pupuk Organik Remah Manunggal Makmur',
    description: 'Pupuk organik remah untuk pertanian berkelanjutan.',
    specs: [
      'Kemasan: 5kg, 25kg, 40kg, 50kg',
      'Bentuk: Remah/granul',
      'Bahan: Organik 100%',
      'pH: 6.5 - 7.5',
      'Kandungan bahan organik: ≥ 40%'
    ],
    features: [
      'Menyuburkan tanah secara alami',
      'Meningkatkan kandungan organik tanah',
      'Ramah lingkungan dan berkelanjutan',
      'Cocok untuk semua jenis tanaman'
    ],
    benefits: [
      'Meningkatkan kesuburan tanah jangka panjang',
      'Memperbaiki struktur fisik tanah',
      'Meningkatkan kapasitas tukar kation tanah'
    ],
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461369/50kg_mmt3hd.png',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461385/25kg_e3w9z5.png',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461362/40kg_bjlpls.png',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461369/50kg_mmt3hd.png',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461363/5kg_c1gmsn.png'
    ],
    brochure: '/assets/brochures/manunggal-makmur.pdf',
    badge: 'Dalam Proses Perizinan',
    certificate: 'Coming Soon',
    status: 'coming-soon'
  },
  
  'ptorca': {
    id: 'ptorca',
    title: 'Pupuk Organik Cair PTORCA',
    description: 'Pupuk organik cair untuk tanaman pangan dan hortikultura.',
    specs: [
      'Kemasan: 500ml, 1L, 5L',
      'Kandungan: Nutrisi organik lengkap',
      'pH: 5.5 - 7.0',
      'Kandungan bahan organik: ≥ 15%'
    ],
    features: [
      'Mudah diserap oleh tanaman',
      'Mengandung nutrisi lengkap',
      'Ramah lingkungan',
      'Aplikasi praktis dan efisien'
    ],
    benefits: [
      'Mempercepat pertumbuhan vegetatif',
      'Meningkatkan pembungaan dan pembuahan',
      'Memperbaiki kualitas hasil panen'
    ],
    images: [
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461355/ptorca-5l_mwmwae.webp',
      'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461355/ptorca-1l_eacqbn.webp'
    ],
    brochure: '/assets/brochures/ptorca.pdf',
    badge: 'Dalam Proses Perizinan',
    certificate: 'Coming Soon',
    status: 'coming-soon'
  }
}

export const getAllProducts = () => {
  const products = []
  Object.keys(productData).forEach(key => {
    if (!Array.isArray(productData[key])) {
      products.push(productData[key])
    }
  })
  return products
}

export const getApprovedProducts = () => getAllProducts().filter(p => p.status === 'approved')
export const getComingSoonProducts = () => getAllProducts().filter(p => p.status === 'coming-soon')
export const getProductById = (id) => productData[id]
export const getTriobionikVariants = () => productData['triobionik-variants']
export const getTriobionikVariantById = (variantId) => {
  return productData['triobionik-variants'].find(v => v.id === variantId)
}
export const getProductVariantById = (id) => {
  const variant = getTriobionikVariantById(id)
  if (variant) return variant
  return getProductById(id)
}

export const getAllProductItems = () => {
  const mainProducts = getAllProducts()
  const variants = getTriobionikVariants()
  return [...mainProducts, ...variants]
}

export const getRelatedProducts = (excludeId, limit = 3) => {
  const allItems = getAllProductItems()
  return allItems
    .filter(item => item.id !== excludeId)
    .slice(0, limit)
}

App.vue:
<template>
  <div id="app">
    <Header v-if="showLayout" />
    <div v-if="showLayout" class="header-spacer"></div>
    
    <main id="main-content">
      <router-view v-slot="{ Component, route }">
        <transition name="fade" mode="out-in" @before-enter="beforeEnter" @after-leave="afterLeave">
          <component :is="Component" :key="route.fullPath" />
        </transition>
      </router-view>
    </main>
    
    <Footer v-if="showLayout" />
    
    <button
      v-if="showLayout"
      class="back-to-top"
      :class="{ visible: showBackToTop }"
      @click="scrollToTop"
      aria-label="Kembali ke atas"
    >
      ▲
    </button>
  </div>
</template>

<script>
import Header from './components/layout/Header.vue'
import Footer from './components/layout/Footer.vue'

export default {
  name: 'App',
  components: { Header, Footer },
  
  data() {
    return {
      showBackToTop: false,
      scrollTimer: null,
      showLayout: true,
      resizeDebounce: null
    }
  },
  
  watch: {
    '$route'(to) {
      this.showLayout = to.meta.layout !== false
    }
  },
  
  mounted() {
    this.showLayout = this.$route.meta.layout !== false
    this.setupEventListeners()
    this.setViewportHeight()
  },
  
  beforeUnmount() {
    this.cleanupEventListeners()
    if (this.scrollTimer) clearTimeout(this.scrollTimer)
  },
  
  methods: {
    setupEventListeners() {
      this.onScroll = this.debounce(this.handleScroll, 100)
      this.resizeDebounce = this.debounce(this.setViewportHeight, 150)
      
      window.addEventListener('scroll', this.onScroll, { passive: true })
      window.addEventListener('resize', this.resizeDebounce, { passive: true })
    },
    
    cleanupEventListeners() {
      window.removeEventListener('scroll', this.onScroll)
      window.removeEventListener('resize', this.resizeDebounce)
    },
    
    debounce(fn, delay) {
      let timer
      return (...args) => {
        clearTimeout(timer)
        timer = setTimeout(() => fn.apply(this, args), delay)
      }
    },
    
    handleScroll() {
      this.showBackToTop = window.scrollY > 300
    },
    
    scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' })
    },
    
    setViewportHeight() {
      const vh = window.innerHeight * 0.01
      document.documentElement.style.setProperty('--vh', `${vh}px`)
    },
    
    beforeEnter() {
      document.body.style.minHeight = `${document.body.scrollHeight}px`
    },
    
    afterLeave() {
      this.scrollTimer = setTimeout(() => {
        document.body.style.minHeight = ''
      }, 50)
    }
  }
}
</script>

src/main.js:
// src/main.js - PERBAIKAN: Tambahkan meta untuk layout persistence
import { createApp } from 'vue'
import { createRouter, createWebHistory } from 'vue-router'
import App from './App.vue'

const routes = [
  { 
    path: '/', 
    component: () => import('./pages/Home.vue'),
    meta: { 
      title: 'Beranda',
      layout: true, // ✅ Tandai bahwa halaman ini menggunakan layout
      preloadImages: [
        'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461104/menyemprot_a4hkac.webp',
        'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461076/logo_xipkza.webp',
        'https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461077/logo-stiesia_raywzt.webp'
      ]
    }
  },
  { 
    path: '/triobionik', 
    component: () => import('./pages/triobionik-list.vue'),
    meta: { 
      title: 'Triobionik',
      layout: true
    }
  },
  { 
    path: '/triobionik/:id', 
    component: () => import('./pages/triobionik-detail.vue'),
    meta: { 
      title: 'Detail Triobionik',
      layout: true
    }
  },
  { 
    path: '/manunggal-lestari', 
    component: () => import('./pages/manunggal-lestari.vue'),
    meta: { 
      title: 'Manunggal Lestari',
      layout: true
    }
  },
  { 
    path: '/manunggal-lestari-dekomposer', 
    component: () => import('./pages/manunggal-lestari-dekomposer.vue'),
    meta: { 
      title: 'Manunggal Lestari Dekomposer',
      layout: true
    }
  },
  { 
    path: '/manunggal-makmur', 
    component: () => import('./pages/manunggal-makmur.vue'),
    meta: { 
      title: 'Manunggal Makmur',
      layout: true
    }
  },
  { 
    path: '/ptorca', 
    component: () => import('./pages/ptorca.vue'),
    meta: { 
      title: 'PTORCA',
      layout: true
    }
  },
  { 
    path: '/:pathMatch(.*)*', 
    redirect: '/' 
  }
]

const router = createRouter({
  history: createWebHistory(),
  routes,
  scrollBehavior(to, from, savedPosition) {
    return new Promise((resolve) => {
      setTimeout(() => {
        if (savedPosition) {
          resolve(savedPosition)
        } else if (to.hash) {
          resolve({ 
            el: to.hash, 
            behavior: 'smooth', 
            top: 80 
          })
        } else {
          resolve({ top: 0, behavior: 'smooth' })
        }
      }, 100)
    })
  }
})

const preloadImages = (urls) => {
  return Promise.all(
    urls.map(url => {
      return new Promise((resolve) => {
        if (!url) return resolve()
        const img = new Image()
        img.onload = resolve
        img.onerror = resolve
        img.src = url
      })
    })
  )
}

const waitForCriticalCSS = () => {
  return new Promise((resolve) => {
    if (document.readyState === 'complete') return resolve()
    
    const checkCSS = () => {
      const stylesheets = Array.from(document.styleSheets)
      const loaded = stylesheets.every(sheet => {
        try {
          return sheet.cssRules || sheet.rules
        } catch {
          return false
        }
      })
      if (loaded || stylesheets.length === 0) {
        resolve()
      } else {
        setTimeout(checkCSS, 50)
      }
    }
    checkCSS()
  })
}

router.beforeEach((to, from, next) => {
  const title = to.meta.title || 'Produk'
  document.title = `${title} - PT. Manunggal Merdeka Makmur`
  
  const loadingEl = document.getElementById('app-loading')
  if (loadingEl && from.name !== to.name) {
    loadingEl.style.display = 'flex'
    loadingEl.style.opacity = '1'
  }
  
  next()
})

router.afterEach((to) => {
  setTimeout(() => {
    if (window.App && window.App.lazyLoader) {
      window.App.lazyLoader.scan()
    }
    
    const images = document.querySelectorAll('img[data-src]')
    images.forEach(img => {
      const rect = img.getBoundingClientRect()
      if (rect.top < window.innerHeight + 300) {
        if (window.App && window.App.lazyLoader) {
          window.App.lazyLoader.loadImage(img)
        }
      }
    })
  }, 300)
})

const initApp = async () => {
  const loadingEl = document.getElementById('app-loading')
  
  try {
    await Promise.race([
      Promise.all([
        new Promise(resolve => {
          if (document.readyState === 'complete') resolve()
          else window.addEventListener('load', resolve, { once: true })
        }),
        waitForCriticalCSS()
      ]),
      new Promise(resolve => setTimeout(resolve, 2000))
    ])

    const currentRoute = router.currentRoute.value
    if (currentRoute.meta?.preloadImages) {
      await preloadImages(currentRoute.meta.preloadImages)
    }

    const app = createApp(App)
    app.use(router)

    await router.isReady()

    app.mount('#app')

    setTimeout(() => {
      if (window.App && window.App.afterVueMount) {
        window.App.afterVueMount()
      }

      document.body.classList.remove('loading')
      if (loadingEl) {
        loadingEl.style.opacity = '0'
        loadingEl.style.pointerEvents = 'none'
        setTimeout(() => {
          loadingEl.style.display = 'none'
        }, 500)
      }
      
      setTimeout(() => {
        if (window.App && window.App.lazyLoader) {
          window.App.lazyLoader.scan()
          
          const images = document.querySelectorAll('img[data-src]')
          images.forEach(img => {
            const rect = img.getBoundingClientRect()
            if (rect.top < window.innerHeight + 500) {
              window.App.lazyLoader.loadImage(img)
            }
          })
        }
      }, 200)
      
    }, 500)

  } catch (error) {
    console.error('App initialization failed:', error)
    if (loadingEl) {
      loadingEl.innerHTML = `
        <div style="text-align:center;padding:2rem;color:#666;">
          <p>Gagal memuat aplikasi. Silakan refresh halaman.</p>
          <button onclick="window.location.reload()" style="
            padding:0.75rem 1.5rem;
            background:#1a7d3e;
            color:white;
            border:none;
            border-radius:25px;
            cursor:pointer;
            margin-top:1rem;
          ">Coba Lagi</button>
        </div>
      `
    }
  }
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initApp)
} else {
  initApp()
}

src/components/layout/Footer.vue:
<template>
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo-section">
          <div class="footer-logo">
            <img 
              src="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461076/logo_xipkza.webp" 
              width="50" 
              height="50" 
              alt="Logo PT. Manunggal Merdeka Makmur"
              loading="lazy"
            />
            <div>
              <h3>PT. Manunggal Merdeka Makmur</h3>
              <p>Produsen Pupuk Organik dan Agen Hayati Berkualitas</p>
            </div>
          </div>
          <p class="footer-description">
            Produsen berbagai produk pendukung sektor Pertanian, Perkebunan, Perikanan, dan Peternakan dengan komitmen menghasilkan produk berkualitas tinggi untuk kemajuan agrobisnis Indonesia.
          </p>
          <p class="footer-motto">
            Bersama kami, mari kita wujudkan keberhasilan dan kesuksesan usaha Agrobisnis di Indonesia.
          </p>
        </div>
        
        <div class="footer-links">
          <h4><i class="fas fa-link"></i> Tautan Cepat</h4>
          <ul>
            <li>
              <a href="#home" @click="handleHashClick('#home')">
                <i class="fas fa-home"></i> Beranda
              </a>
            </li>
            <li>
              <a href="#about" @click="handleHashClick('#about')">
                <i class="fas fa-info-circle"></i> Tentang Kami
              </a>
            </li>
            <li>
              <a href="#visi-misi" @click="handleHashClick('#visi-misi')">
                <i class="fas fa-eye"></i> Visi & Misi
              </a>
            </li>
            <li>
              <a href="#products" @click="handleHashClick('#products')">
                <i class="fas fa-boxes"></i> Produk Kami
              </a>
            </li>
            <li>
              <a href="#certifications" @click="handleHashClick('#certifications')">
                <i class="fas fa-certificate"></i> Sertifikasi
              </a>
            </li>
            <li>
              <a href="#contact" @click="handleHashClick('#contact')">
                <i class="fas fa-phone-alt"></i> Kontak
              </a>
            </li>
          </ul>
        </div>
        
        <div class="footer-contact">
          <h4><i class="fas fa-address-book"></i> Hubungi Kami</h4>
          <div class="contact-info-footer">
            <p class="contact-email">
              <i class="fas fa-envelope"></i>
              <a href="mailto:manunggalmerdekamakmur@gmail.com">
                manunggalmerdekamakmur@gmail.com
              </a>
            </p>
            <p>
              <i class="fas fa-map-marker-alt"></i>
              Kabupaten Nganjuk, Jawa Timur, Indonesia
            </p>
            <p class="contact-whatsapp">
              <i class="fab fa-whatsapp"></i>
              <a href="https://wa.me/6285199265858" target="_blank" rel="noopener">
                WhatsApp: 0851 9926 5858
              </a>
            </p>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="copyright">
          <p>&copy; {{ currentYear }} Sekolah Tinggi Ilmu Ekonomi Indonesia Surabaya & PT. Manunggal Merdeka Makmur. All rights reserved.</p>
          <p class="thank-you">Atas perhatian dan kepedulian serta kebijaksanaannya kami ucapkan terima kasih.</p>
        </div>
      </div>
    </div>
  </footer>
</template>

<script>
export default {
  name: 'Footer',
  
  computed: {
    currentYear() {
      return new Date().getFullYear()
    }
  },
  
  methods: {
    handleHashClick(hash) {
      if (this.$route.path !== '/') {
        this.$router.push('/' + hash)
      } else {
        const element = document.querySelector(hash)
        if (element) {
          const headerHeight = 80
          const top = element.offsetTop - headerHeight
          window.scrollTo({ top, behavior: 'smooth' })
        }
      }
    }
  }
}
</script>

src/components/layout/Header.vue:
<template>
  <header role="banner" :class="{ scrolled: isScrolled, 'at-top': isAtTop }">
    <div class="container header-container">
      <div class="logo">
        <img
          src="/assets/img/logo-stiesia.webp"
          width="35"
          height="35"
          alt="Logo STIESIA"
          loading="eager"
        />
        <img
          src="/assets/img/logo.webp"
          width="35"
          height="35"
          alt="Logo PT. Manunggal Merdeka Makmur"
          loading="eager"
        />
        <div class="logo-text">
          <h1 style="opacity: 0">PT. Manunggal Merdeka Makmur</h1>
          <p>Produsen Pupuk Organik dan Agen Hayati Berkualitas</p>
        </div>
      </div>
      <nav role="navigation">
        <div
          class="hamburger"
          @click="toggleMenu"
          :aria-expanded="menuOpen.toString()"
          aria-label="Toggle menu"
        >
          <i :class="menuOpen ? 'fas fa-times' : 'fas fa-bars'"></i>
        </div>
        <ul class="nav-menu" :class="{ active: menuOpen }">
          <li>
            <a
              href="/"
              class="nav-link"
              :class="{ active: isActive('/') }"
              @click="handleNavClick($event, '/')"
              >Beranda</a
            >
          </li>
          <li>
            <a
              href="#about"
              class="nav-link"
              :class="{ active: activeSection === 'about' }"
              @click="handleNavClick($event, '#about')"
              >Tentang Kami</a
            >
          </li>
          <li>
            <a
              href="#visi-misi"
              class="nav-link"
              :class="{ active: activeSection === 'visi-misi' }"
              @click="handleNavClick($event, '#visi-misi')"
              >Visi & Misi</a
            >
          </li>
          <li>
            <a
              href="#products"
              class="nav-link"
              :class="{ active: activeSection === 'products' }"
              @click="handleNavClick($event, '#products')"
              >Produk Kami</a
            >
          </li>
          <li>
            <a
              href="#certifications"
              class="nav-link"
              :class="{ active: activeSection === 'certifications' }"
              @click="handleNavClick($event, '#certifications')"
              >Sertifikasi</a
            >
          </li>
          <li>
            <a
              href="#contact"
              class="nav-link"
              :class="{ active: activeSection === 'contact' }"
              @click="handleNavClick($event, '#contact')"
              >Kontak</a
            >
          </li>
        </ul>
      </nav>
    </div>
  </header>
</template>

<script>
export default {
  name: "Header",
  data() {
    return {
      isScrolled: false,
      isAtTop: true,
      menuOpen: false,
      activeSection: "home",
      sections: [],
    };
  },
  mounted() {
    this.handleScroll();
    window.addEventListener("scroll", this.handleScroll);
    window.addEventListener("resize", this.handleResize);

    // Initialize sections for scroll spy
    this.initSections();

    // Initialize scroll spy
    window.addEventListener("scroll", this.updateActiveSection);

    // Fade in logo text after mount
    setTimeout(() => {
      const logoTextH1 = this.$el.querySelector(".logo-text h1");
      if (logoTextH1) {
        logoTextH1.style.opacity = "1";
      }
    }, 100);
  },
  beforeUnmount() {
    window.removeEventListener("scroll", this.handleScroll);
    window.removeEventListener("resize", this.handleResize);
    window.removeEventListener("scroll", this.updateActiveSection);
  },
  methods: {
    handleScroll() {
      const scrollY = window.scrollY;
      this.isScrolled = scrollY > 60;
      this.isAtTop = scrollY < 10;
    },
    handleResize() {
      if (window.innerWidth > 768 && this.menuOpen) {
        this.menuOpen = false;
      }
    },
    toggleMenu() {
      this.menuOpen = !this.menuOpen;
      document.body.style.overflow = this.menuOpen ? "hidden" : "";
    },
    handleNavClick(event, target) {
      event.preventDefault();

      // Close menu if open
      if (this.menuOpen) {
        this.menuOpen = false;
        document.body.style.overflow = "";
      }

      // Handle routing
      if (target === "/") {
        this.$router.push("/");
        window.scrollTo({ top: 0, behavior: "smooth" });
      } else if (target.startsWith("#")) {
        const element = document.querySelector(target);
        if (element) {
          const headerHeight = 80;
          const elementPosition = element.getBoundingClientRect().top;
          const offsetPosition =
            elementPosition + window.pageYOffset - headerHeight;

          window.scrollTo({
            top: offsetPosition,
            behavior: "smooth",
          });

          // Update active section
          this.activeSection = target.substring(1);
        }
      }
    },
    initSections() {
      this.sections = [
        "home",
        "about",
        "visi-misi",
        "products",
        "certifications",
        "contact",
      ];
    },
    updateActiveSection() {
      const scrollPosition = window.scrollY + 100;

      for (const section of this.sections) {
        const element = document.getElementById(section);
        if (element) {
          const offsetTop = element.offsetTop;
          const offsetBottom = offsetTop + element.offsetHeight;

          if (scrollPosition >= offsetTop && scrollPosition < offsetBottom) {
            this.activeSection = section;
            break;
          }
        }
      }
    },
    isActive(route) {
      return this.$route.path === route;
    },
  },
};
</script>

src/components/product/ProductDetail.vue:
<template>
  <div class="product-detail-page">
    <div v-if="loading" class="loading-overlay">
      <img src="/assets/img/spinner.gif" width="48" height="48" alt="Loading" />
    </div>
    
    <section class="breadcrumb">
      <div class="container">
        <nav aria-label="Breadcrumb">
          <ol>
            <li><router-link to="/">Beranda</router-link></li>
            <li><router-link to="/#products">Produk</router-link></li>
            <li v-if="breadcrumbParent"><router-link :to="breadcrumbParent.to">{{ breadcrumbParent.name }}</router-link></li>
            <li class="current">{{ product.title || product.name }}</li>
          </ol>
        </nav>
      </div>
    </section>

    <section class="product-detail">
      <div class="container">
        <div class="product-detail-container">
          <div class="product-images">
            <div class="main-image-container" @click="openImageModal">
              <img 
                :src="getPlaceholder()" 
                :data-src="currentImage" 
                :alt="product.title || product.name" 
                class="main-image"
                v-lazy
                :loading="currentImageIndex === 0 ? 'eager' : 'lazy'"
                @load="onImageLoad"
              />
            </div>
            
            <div v-if="product.images && product.images.length > 1" class="thumbnail-gallery">
              <button 
                v-for="(image, index) in product.images" 
                :key="index"
                :class="['thumbnail-item', { active: currentImageIndex === index }]"
                @click="changeImage(image, index)"
                :aria-label="`Lihat gambar ${index + 1}`"
              >
                <img 
                  :src="getPlaceholder()" 
                  :data-src="image" 
                  :alt="`${product.title || product.name} ${index + 1}`" 
                  v-lazy
                  loading="lazy"
                />
              </button>
            </div>
            
            <div v-if="product.brochure" class="product-brochure">
              <embed 
                :src="product.brochure"
                type="application/pdf"
                class="product-pdf-embed"
              />
            </div>

            <div class="product-stats-detail">
              <div 
                v-for="(stat, index) in productStats" 
                :key="index" 
                class="product-stat-item"
              >
                <i :class="stat.icon"></i>
                <h4>{{ stat.title }}</h4>
                <p>{{ stat.value }}</p>
              </div>
            </div>
          </div>

          <div class="product-info">
            <div class="product-header">
              <h1>{{ product.title || product.name }}</h1>
              <div :class="['product-badge', product.status === 'approved' ? 'badge-approved' : 'badge-coming']">
                {{ product.badge }}
              </div>
              <div v-if="product.certificate" class="certificate-badge">
                <i class="fas fa-certificate"></i>
                <span>Izin Edar No: {{ product.certificate }}</span>
              </div>
            </div>
            
            <p class="product-description">{{ product.description }}</p>
            
            <div v-if="product.specs && product.specs.length" class="product-specs">
              <h3>
                <i class="fas fa-clipboard-list"></i> 
                {{ specsTitle }}
              </h3>
              <ul>
                <li v-for="(spec, index) in product.specs" :key="`spec-${index}`">
                  {{ spec }}
                </li>
              </ul>
            </div>
            
            <div v-if="product.features && product.features.length" class="product-features">
              <h3>
                <i class="fas fa-star"></i> 
                {{ featuresTitle }}
              </h3>
              <ul>
                <li v-for="(feature, index) in product.features" :key="`feature-${index}`">
                  {{ feature }}
                </li>
              </ul>
            </div>
            
            <div v-if="product.benefits && product.benefits.length" class="product-benefits">
              <h3>
                <i class="fas fa-check-circle"></i> 
                {{ benefitsTitle }}
              </h3>
              <ul>
                <li v-for="(benefit, index) in product.benefits" :key="`benefit-${index}`">
                  {{ benefit }}
                </li>
              </ul>
            </div>
            
            <div class="product-actions">
              <a href="#contact" class="btn btn-primary" @click.prevent="scrollToContact">
                <i class="fab fa-whatsapp"></i> Pesan Sekarang
              </a>
              <router-link to="/#products" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Lihat Produk Lain
              </router-link>
            </div>
          </div>
        </div>

        <section v-if="relatedProducts.length" class="related-products">
          <div class="section-title">
            <h2>Produk Lainnya</h2>
            <p>Telusuri produk berkualitas lainnya dari PT. Manunggal Merdeka Makmur</p>
          </div>
          <div class="related-products-grid">
            <router-link
              v-for="related in relatedProducts"
              :key="related.id"
              :to="getRelatedLink(related)"
              class="related-product-card"
            >
              <div class="related-product-img">
                <img 
                  :src="getPlaceholder()" 
                  :data-src="getRelatedImage(related)" 
                  :alt="related.title || related.name" 
                  v-lazy
                  loading="lazy"
                />
              </div>
              <div class="related-product-info">
                <h4>{{ related.title || related.name }}</h4>
                <p>{{ truncateDescription(related.description || related.shortDesc) }}</p>
                <span class="related-product-link">
                  Lihat Detail <i class="fas fa-arrow-right"></i>
                </span>
              </div>
            </router-link>
          </div>
        </section>
      </div>
    </section>

    <div :class="['modal', { active: showModal }]" @click="closeModal">
      <div class="modal-content" @click.stop>
        <button class="modal-close" @click="closeModal" aria-label="Tutup">&times;</button>
        <div class="modal-main-image">
          <img :src="modalImage" :alt="product.title || product.name" />
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { getRelatedProducts } from '@/data/product.js'

export default {
  name: 'ProductDetail',
  
  props: {
    product: {
      type: Object,
      required: true
    },
    productStats: {
      type: Array,
      default: () => []
    },
    specsTitle: {
      type: String,
      default: 'Spesifikasi Produk'
    },
    featuresTitle: {
      type: String,
      default: 'Keunggulan'
    },
    benefitsTitle: {
      type: String,
      default: 'Manfaat'
    },
    breadcrumbParent: {
      type: Object,
      default: null
    }
  },
  
  data() {
    return {
      currentImageIndex: 0,
      imageIndex: 0,
      showModal: false,
      modalImage: '',
      imageTransitioning: false,
      loading: false,
      loadedImages: 0,
      relatedProducts: []
    }
  },
  
  computed: {
    currentImage() {
      return this.product.images?.[this.currentImageIndex] || this.product.image || ''
    }
  },
  
  watch: {
    product: {
      handler() {
        this.currentImageIndex = 0
        this.loadedImages = 0
        this.updateDocumentTitle()
        this.loadRelatedProducts()
      },
      immediate: true
    }
  },
  
  async created() {
    await this.loadProductData()
  },
  
  async mounted() {
    this.updateDocumentTitle()
    await this.preloadImages()
  },
  
  methods: {
    async loadProductData() {
      this.loading = true
      await new Promise(resolve => setTimeout(resolve, 300))
      this.loading = false
    },
    
    async preloadImages() {
      if (this.product.images) {
        await Promise.all(
          this.product.images.map(src => {
            return new Promise((resolve) => {
              const img = new Image()
              img.onload = () => {
                this.loadedImages++
                resolve()
              }
              img.onerror = resolve
              img.src = src
            })
          })
        )
      }
    },
    
    onImageLoad() {
      this.loadedImages++
    },
    
    changeImage(image, index) {
      if (this.imageTransitioning || this.currentImageIndex === index) return
      
      this.imageTransitioning = true
      this.imageIndex = index
      const mainImg = document.querySelector('.main-image')
      
      if (mainImg) {
        mainImg.style.opacity = '0'
        setTimeout(() => {
          this.currentImageIndex = index
          mainImg.style.opacity = '1'
          this.imageTransitioning = false
        }, 200)
      } else {
        this.currentImageIndex = index
        this.imageTransitioning = false
      }
    },
    
    async loadRelatedProducts() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.relatedProducts = getRelatedProducts(this.product.id, 3)
    },
    
    getRelatedLink(related) {
      const routeMap = {
        'phc-manunggal-lestari': '/manunggal-lestari',
        'phc-manunggal-lestari-dekomposer': '/manunggal-lestari-dekomposer',
        'php-triobionik': '/triobionik',
        'manunggal-makmur': '/manunggal-makmur',
        'ptorca': '/ptorca'
      }
      
      if (routeMap[related.id]) {
        return routeMap[related.id]
      }
      
      if (related.id && related.id.includes('triobionik')) {
        return `/triobionik/${related.id}`
      }
      
      return '/'
    },
    
    getRelatedImage(related) {
      return related.images?.[0] || related.image || ''
    },
    
    truncateDescription(desc) {
      if (!desc) return ''
      return desc.length > 100 ? desc.substring(0, 100) + '...' : desc
    },
    
    openImageModal() {
      this.modalImage = this.currentImage
      this.showModal = true
      document.body.style.overflow = 'hidden'
    },
    
    closeModal() {
      this.showModal = false
      document.body.style.overflow = ''
    },
    
    scrollToContact() {
      this.$router.push('/#contact')
    },
    
    updateDocumentTitle() {
      if (this.product?.title || this.product?.name) {
        const title = this.product.title || this.product.name
        document.title = `${title} - PT. Manunggal Merdeka Makmur`
      }
    },
    
    getPlaceholder() {
      return 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23f0f0f0" width="400" height="300"/%3E%3C/svg%3E'
    },
    
    debounce(fn, delay) {
      let timer
      return (...args) => {
        clearTimeout(timer)
        timer = setTimeout(() => fn(...args), delay)
      }
    }
  }
}
</script>

src/components/sections/AboutSection.vue:
<template>
  <section class="about section-bg" id="about">
    <div class="container">
      <div class="section-title">
        <h2>Tentang Perusahaan</h2>
        <p>PT. Manunggal Merdeka Makmur adalah perusahaan yang berkomitmen untuk kemajuan sektor agrobisnis di Indonesia.</p>
      </div>
      <div class="about-content">
        <div class="about-text">
          <h3>Profil Perusahaan</h3>
          <p>PT. Manunggal Merdeka Makmur merupakan perusahaan agrobisnis yang didirikan pada tahun 2024 dan berkedudukan di Kabupaten Nganjuk, Provinsi Jawa Timur. Perusahaan ini bergerak sebagai produsen pupuk organik dan pupuk hayati berkualitas yang mendukung sektor Pertanian, Perkebunan, Perikanan, dan Peternakan di Indonesia.</p>
          <p>Dalam menjalankan kegiatan usaha, PT. Manunggal Merdeka Makmur berkomitmen menerapkan tata kelola perusahaan yang baik, menghasilkan produk yang memenuhi standar mutu, serta ramah terhadap lingkungan. Seluruh produk dikembangkan melalui proses produksi yang terkontrol dan sesuai dengan ketentuan peraturan yang berlaku.</p>
          <p>Melalui inovasi berkelanjutan, perusahaan hadir sebagai mitra strategis petani dan pelaku agrobisnis dalam meningkatkan produktivitas dan mendukung kemajuan pertanian nasional secara berkelanjutan.</p>
        </div>
        <div class="about-image">
          <img src="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461083/lahan-pertanian_lxnx99.webp" alt="Lahan Pertanian" loading="lazy" />
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "AboutSection"
}
</script>

src/components/sections/CertificationsSection.vue:
<template>
  <section class="certifications section-bg" id="certifications">
    <div class="container">
      <div class="section-title">
        <h2>Sertifikasi & Legalitas</h2>
        <p>Bukti komitmen kami terhadap kualitas dan standar produk</p>
      </div>
      <div class="certifications-grid">
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-certificate"></i>
          </div>
          <h3>Izin Edar</h3>
          <p>No. Pendaftaran: 03.03.2025.89</p>
          <p class="date">Diterbitkan: 17 Februari 2025</p>
        </div>
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-trademark"></i>
          </div>
          <h3>Sertifikat Merek</h3>
          <p>No. Pendaftaran: IDM001289921</p>
          <p>Merek: TRIOBIONIK</p>
          <p class="date">Diterbitkan: 25 Februari 2025</p>
        </div>
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-leaf"></i>
          </div>
          <h3>Sertifikasi Organik</h3>
          <p>No: 537-LSTr-092-IDN-01-25</p>
          <p>Memenuhi SNI 6729:2016</p>
          <p class="date">Lembaga Sertifikasi Organik Seloliman</p>
        </div>
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-industry"></i>
          </div>
          <h3>Sertifikat TKDN</h3>
          <p>Nilai TKDN: 87,38%</p>
          <p>No: 17340/SJ-IND.8/E-TKDN/12/2024</p>
          <p class="date">Kementerian Perindustrian</p>
        </div>
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-flask"></i>
          </div>
          <h3>Uji Mutu</h3>
          <p>Lembaga Uji: Fakultas Pertanian Universitas Brawijaya</p>
          <p>Hasil uji memenuhi standar kualitas yang ditetapkan</p>
        </div>
        <div class="cert-card card-hover">
          <div class="cert-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Uji Efektivitas</h3>
          <p>Lembaga Uji: Fakultas Pertanian Universitas Brawijaya</p>
          <p>Terbukti efektif meningkatkan hasil pertanian</p>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "CertificationsSection",
};
</script>

src/components/sections/ContactSection.vue:
<template>
  <section class="contact" id="contact">
    <div class="container">
      <div class="section-title">
        <h2>Hubungi Kami</h2>
        <p>
          Silakan menghubungi kami untuk informasi lebih lanjut tentang produk
          dan kerjasama bisnis
        </p>
      </div>
      <div class="contact-wrapper">
        <div class="contact-info">
          <h3><i class="fas fa-info-circle"></i> Informasi Kontak</h3>
          <div class="contact-detail">
            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="contact-text">
                <h4>Alamat Perusahaan</h4>
                <p>Kabupaten Nganjuk, Jawa Timur, Indonesia</p>
              </div>
            </div>
            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="contact-text">
                <h4>Email</h4>
                <p>manunggalmerdekamakmur@gmail.com</p>
              </div>
            </div>
            <div class="contact-item">
              <div class="contact-icon whatsapp-icon">
                <i class="fab fa-whatsapp"></i>
              </div>
              <div class="contact-text light-bg">
                <h4>WhatsApp</h4>
                <p class="contact-whatsapp">
                  <a
                    href="https://wa.me/6285199265858"
                    target="_blank"
                    rel="noopener"
                  >
                    0851 9926 5858
                  </a>
                </p>
              </div>
            </div>
          </div>
          <div class="business-hours">
            <h4><i class="fas fa-clock"></i> Jam Operasional</h4>
            <p>Senin - Jumat: 08:00 - 16:00</p>
            <p>Sabtu: 08:00 - 14:00</p>
          </div>
          <div class="signature">
            <div class="signature-line"></div>
            <p><strong>Management PT. Manunggal Merdeka Makmur</strong></p>
          </div>
        </div>
        <div class="contact-form-wrapper">
          <h3><i class="fas fa-paper-plane"></i> Kirim Pesan</h3>
          <form id="contactForm" novalidate @submit.prevent="submitForm">
            <div class="form-group">
              <label for="name">
                <i class="fas fa-user"></i> Nama Lengkap
              </label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-control"
                placeholder="Masukkan nama lengkap Anda"
                required
                v-model="form.name"
              />
              <div class="error-message" id="nameError">{{ errors.name }}</div>
            </div>
            <div class="form-group">
              <label for="email"> <i class="fas fa-envelope"></i> Email </label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-control"
                placeholder="Masukkan alamat email Anda"
                required
                v-model="form.email"
              />
              <div class="error-message" id="emailError">
                {{ errors.email }}
              </div>
            </div>
            <div class="form-group">
              <label for="phone">
                <i class="fas fa-phone"></i> Nomor Telepon (Opsional)
              </label>
              <input
                type="tel"
                id="phone"
                name="phone"
                class="form-control"
                placeholder="Masukkan nomor telepon"
                v-model="form.phone"
              />
            </div>
            <div class="form-group">
              <label for="subject"> <i class="fas fa-tag"></i> Subjek </label>
              <select
                id="subject"
                name="subject"
                class="form-control"
                required
                v-model="form.subject"
              >
                <option value="">Pilih Subjek</option>
                <option value="pembelian">Pembelian Produk</option>
                <option value="informasi">Informasi Produk</option>
                <option value="kerjasama">Kerjasama Bisnis</option>
                <option value="lainnya">Lainnya</option>
              </select>
              <div class="error-message" id="subjectError">
                {{ errors.subject }}
              </div>
            </div>
            <div class="form-group">
              <label for="message">
                <i class="fas fa-comment"></i> Pesan
              </label>
              <textarea
                id="message"
                name="message"
                class="form-control"
                rows="5"
                placeholder="Tulis pesan Anda di sini"
                required
                v-model="form.message"
              ></textarea>
              <div class="error-message" id="messageError">
                {{ errors.message }}
              </div>
            </div>
            <div class="form-actions">
              <button
                type="submit"
                class="btn btn-primary btn-block"
                :disabled="loading"
              >
                <i class="fas fa-paper-plane"></i> Kirim Pesan
              </button>
              <div
                class="loading-spinner"
                id="formSpinner"
                v-if="loading"
              ></div>
            </div>
            <div id="formSuccess" class="form-message success" v-if="success">
              {{ successMessage }}
            </div>
            <div id="formError" class="form-message error" v-if="error">
              {{ errorMessage }}
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "ContactSection",
  data() {
    return {
      form: {
        name: "",
        email: "",
        phone: "",
        subject: "",
        message: "",
      },
      errors: {
        name: "",
        email: "",
        subject: "",
        message: "",
      },
      loading: false,
      success: false,
      error: false,
      successMessage: "",
      errorMessage: "",
    };
  },
  methods: {
    validateForm() {
      let valid = true;
      this.errors = {
        name: "",
        email: "",
        subject: "",
        message: "",
      };

      if (!this.form.name.trim()) {
        this.errors.name = "Nama lengkap wajib diisi";
        valid = false;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!this.form.email.trim()) {
        this.errors.email = "Email wajib diisi";
        valid = false;
      } else if (!emailRegex.test(this.form.email)) {
        this.errors.email = "Format email tidak valid";
        valid = false;
      }

      if (!this.form.subject) {
        this.errors.subject = "Pilih salah satu subjek";
        valid = false;
      }

      if (!this.form.message.trim()) {
        this.errors.message = "Pesan wajib diisi";
        valid = false;
      }

      return valid;
    },
    async submitForm() {
      if (!this.validateForm()) {
        this.error = true;
        this.errorMessage = "Harap perbaiki field yang masih error.";
        setTimeout(() => {
          this.error = false;
        }, 5000);
        return;
      }

      this.loading = true;
      this.error = false;
      this.success = false;

      try {
        await this.sendFormData();

        this.success = true;
        this.successMessage =
          "Terima kasih! Pesan Anda telah berhasil dikirim. Kami akan menghubungi Anda segera.";

        this.form = {
          name: "",
          email: "",
          phone: "",
          subject: "",
          message: "",
        };

        setTimeout(() => {
          this.success = false;
        }, 5000);
      } catch (err) {
        this.error = true;
        this.errorMessage =
          "Maaf, terjadi kesalahan. Silakan coba lagi atau hubungi kami melalui email.";

        setTimeout(() => {
          this.error = false;
        }, 5000);
      } finally {
        this.loading = false;
      }
    },
    async sendFormData() {
      return new Promise((resolve) => {
        setTimeout(() => {
          console.log("Form submitted:", this.form);
          resolve(true);
        }, 1500);
      });
    },
  },
};
</script>

src/components/sections/principlesSection.vue:
<template>
  <section class="principles section-bg" id="principles">
    <div class="container">
      <div class="section-title">
        <h2>Prinsip Perusahaan</h2>
        <p>
          Nilai-nilai yang menjadi landasan dalam setiap kegiatan operasional
          perusahaan kami
        </p>
      </div>
      <div class="principles-grid">
        <div class="principle-card">
          <div class="principle-icon">
            <i class="fas fa-medal"></i>
          </div>
          <h3>Kualitas</h3>
          <p>Produk berkualitas tinggi dengan standar terbaik dan teruji</p>
        </div>
        <div class="principle-card">
          <div class="principle-icon">
            <i class="fas fa-lightbulb"></i>
          </div>
          <h3>Inovasi</h3>
          <p>
            Terus berinovasi dalam produk dan layanan untuk pertanian modern
          </p>
        </div>
        <div class="principle-card">
          <div class="principle-icon">
            <i class="fas fa-handshake"></i>
          </div>
          <h3>Kemitraan</h3>
          <p>Membangun kerjasama yang saling menguntungkan dan berkelanjutan</p>
        </div>
        <div class="principle-card">
          <div class="principle-icon">
            <i class="fas fa-user-shield"></i>
          </div>
          <h3>Integritas</h3>
          <p>Berbisnis dengan jujur, transparan, dan bertanggung jawab</p>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "PrinciplesSection",
};
</script>

src/components/sections/ProductsSection.vue:
<template>
  <section class="products section-bg" id="products">
    <div class="container">
      <div class="section-title">
        <h2>Produk Unggulan Kami</h2>
        <p>Produk pupuk hayati dan organik berkualitas untuk mendukung pertanian berkelanjutan</p>
      </div>
      
      <div class="product-filter">
        <button 
          v-for="filter in filters" 
          :key="filter.value"
          :class="['filter-btn', { active: activeFilter === filter.value }]"
          @click="setFilter(filter.value)"
        >
          <i :class="filter.icon"></i> {{ filter.label }}
        </button>
      </div>
      
      <div v-if="isLoading" class="products-grid">
        <div v-for="n in 4" :key="`skeleton-${n}`" class="product-card product-skeleton">
          <div class="skeleton-img">
            <div class="image-spinner"></div>
          </div>
          <div class="skeleton-content">
            <div class="skeleton-title"></div>
            <div class="skeleton-text"></div>
            <div class="skeleton-text short"></div>
          </div>
        </div>
      </div>
      
      <div v-else class="products-grid">
        <router-link 
          v-for="product in visibleProducts" 
          :key="product.id" 
          :to="getProductLink(product)" 
          class="product-card"
        >
          <div class="product-img">
            <div class="image-placeholder">
              <div class="image-spinner"></div>
            </div>
            <img 
              :src="getPlaceholder()" 
              :data-src="getProductImage(product)" 
              :alt="product.title" 
              width="300"
              height="200"
              loading="lazy"
              decoding="async"
              v-lazy
            />
            <span :class="['product-badge', product.status === 'approved' ? 'badge-approved' : 'badge-coming']">
              {{ product.badge }}
            </span>
          </div>
          <div class="product-info">
            <h3>{{ product.title }}</h3>
            <p>{{ truncateDescription(product.description) }}</p>
          </div>
        </router-link>
      </div>
    </div>
  </section>
</template>

<script>
import { ref, computed, onMounted, onUnmounted } from 'vue'
import { getAllProducts } from '@/data/product.js'

export default {
  name: 'ProductsSection',
  
  setup() {
    const products = ref([])
    const activeFilter = ref('all')
    const isLoading = ref(true)
    
    const filters = [
      { value: 'all', label: 'Semua Produk', icon: 'fas fa-boxes' },
      { value: 'approved', label: 'Berizin', icon: 'fas fa-certificate' },
      { value: 'coming-soon', label: 'Segera Hadir', icon: 'fas fa-clock' }
    ]
    
    const filteredProducts = computed(() => {
      if (activeFilter.value === 'all') return products.value
      return products.value.filter(p => p.status === activeFilter.value)
    })
    
    const setFilter = (value) => {
      activeFilter.value = value
    }
    
    const getPlaceholder = () => {
      return 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 200"%3E%3Crect fill="%23f5f5f5" width="300" height="200"/%3E%3C/svg%3E'
    }
    
    const getProductImage = (product) => {
      return product.images?.[0] || product.image || ''
    }
    
    const truncateDescription = (desc) => {
      if (!desc) return ''
      return desc.length > 100 ? desc.substring(0, 100) + '...' : desc
    }
    
    const getProductLink = (product) => {
      const routes = {
        'phc-manunggal-lestari': '/manunggal-lestari',
        'phc-manunggal-lestari-dekomposer': '/manunggal-lestari-dekomposer',
        'php-triobionik': '/triobionik',
        'manunggal-makmur': '/manunggal-makmur',
        'ptorca': '/ptorca'
      }
      return routes[product.id] || '/'
    }
    
    const preloadImages = () => {
      const firstProducts = products.value.slice(0, 4)
      firstProducts.forEach(product => {
        const imgSrc = getProductImage(product)
        if (imgSrc) {
          const img = new Image()
          img.src = imgSrc
        }
      })
    }
    
    onMounted(async () => {
      try {
        await new Promise(resolve => setTimeout(resolve, 200))
        products.value = getAllProducts()
        preloadImages()
        
        isLoading.value = false
        
        setTimeout(() => {
          if (window.App && window.App.lazyLoader) {
            window.App.lazyLoader.scan()
          }
        }, 100)
        
      } catch (error) {
        console.error('Error loading products:', error)
        isLoading.value = false
      }
    })
    
    onUnmounted(() => {
      products.value = []
    })
    
    return {
      products,
      activeFilter,
      isLoading,
      filters,
      filteredProducts,
      visibleProducts: filteredProducts,
      setFilter,
      getPlaceholder,
      getProductImage,
      truncateDescription,
      getProductLink
    }
  }
}
</script>

src/components/sections/ProductStats.vue:
<template>
  <section class="product-stats">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-item">
          <i class="fas fa-certificate"></i>
          <h3>2+</h3>
          <p>Produk Berizin</p>
        </div>
        <div class="stat-item">
          <i class="fas fa-industry"></i>
          <h3>87.38%</h3>
          <p>Tingkat TKDN</p>
        </div>
        <div class="stat-item">
          <i class="fas fa-leaf"></i>
          <h3>100%</h3>
          <p>Ramah Lingkungan</p>
        </div>
        <div class="stat-item">
          <i class="fas fa-check-circle"></i>
          <h3>7+</h3>
          <p>Total Produk</p>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "ProductStats"
};
</script>

src/components/sections/VisionMission.vue:
<template>
  <section class="visi-misi section-bg" id="visi-misi">
    <div class="container">
      <div class="section-title">
        <h2>Visi & Misi Perusahaan</h2>
        <p>Pedoman kami dalam menjalankan bisnis untuk kemajuan agrobisnis Indonesia</p>
      </div>
      <div class="visi-misi-content">
        <div class="visi-card card-hover">
          <div class="card-icon">
            <i class="fas fa-eye"></i>
          </div>
          <h3>Visi</h3>
          <p>Mempertahankan menjadi Produsen berkarakter positif yang mengedepankan komitmen beretika, menghasilkan produk yang berkualitas tinggi.</p>
        </div>
        <div class="misi-card card-hover">
          <div class="card-icon">
            <i class="fas fa-bullseye"></i>
          </div>
          <h3>Misi</h3>
          <ul>
            <li><i class="fas fa-check"></i> Menghasilkan produk berkualitas tinggi</li>
            <li><i class="fas fa-check"></i> Menciptakan sistem produksi efisien dan akurat</li>
            <li><i class="fas fa-check"></i> Melayani pembeli dengan etika dan dedikasi tinggi</li>
            <li><i class="fas fa-check"></i> Berperan aktif memajukan agrobisnis di Indonesia</li>
            <li><i class="fas fa-check"></i> Tertib, disiplin, dan tidak merugikan pihak mana pun</li>
          </ul>
        </div>
      </div>
    </div>
  </section>
</template>

<script>
export default {
  name: "VisionMission"
};
</script>

src/pages/Home.vue:
<template>
  <div class="home-page">
    <section class="hero" id="home">
      <div class="container">
        <div class="hero-logo">
          <img 
            src="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461077/logo-stiesia_raywzt.webp" 
            width="85" 
            height="85" 
            alt="Logo STIESIA" 
            loading="eager"
            fetchpriority="high"
          />
          <img 
            src="https://res.cloudinary.com/dz1zcobkz/image/upload/v1768461076/logo_xipkza.webp" 
            width="85" 
            height="85" 
            alt="Logo PT. Manunggal Merdeka Makmur" 
            loading="eager"
            fetchpriority="high"
          />
        </div>
        <h1>PT. Manunggal Merdeka Makmur</h1>
        <p>Produsen berbagai produk pendukung sektor Pertanian, Perkebunan, Perikanan, dan Peternakan dengan komitmen menghasilkan produk berkualitas tinggi untuk kemajuan agrobisnis Indonesia.</p>
        <div class="hero-buttons">
          <a href="#products" class="btn btn-primary">
            <i class="fas fa-seedling"></i> Lihat Produk Kami
          </a>
          <a href="#contact" class="btn btn-secondary">
            <i class="fas fa-phone-alt"></i> Hubungi Kami
          </a>
        </div>
      </div>
    </section>
    
    <AboutSection />
    <VisionMission />
    <ProductStats />
    <ProductsSection />
    <CertificationsSection />
    <PrinciplesSection />
    <ContactSection />
  </div>
</template>

<script>
import AboutSection from '@/components/sections/AboutSection.vue'
import VisionMission from '@/components/sections/VisionMission.vue'
import ProductStats from '@/components/sections/ProductStats.vue'
import ProductsSection from '@/components/sections/ProductsSection.vue'
import CertificationsSection from '@/components/sections/CertificationsSection.vue'
import PrinciplesSection from '@/components/sections/PrinciplesSection.vue'
import ContactSection from '@/components/sections/ContactSection.vue'

export default {
  name: 'Home',
  
  components: {
    AboutSection,
    VisionMission,
    ProductStats,
    ProductsSection,
    CertificationsSection,
    PrinciplesSection,
    ContactSection
  },
  
  mounted() {
    this.updateDocumentTitle()
    this.handleHashNavigation()
  },
  
  methods: {
    updateDocumentTitle() {
      document.title = 'Beranda - PT. Manunggal Merdeka Makmur'
    },
    
    handleHashNavigation() {
      if (this.$route.hash) {
        this.$nextTick(() => {
          const element = document.querySelector(this.$route.hash)
          if (element) {
            const headerHeight = 80
            const top = element.offsetTop - headerHeight
            window.scrollTo({ top, behavior: 'smooth' })
          }
        })
      }
    }
  }
}
</script>

src/pages/manunggal-lestari-dekomposer.vue:
<template>
  <ProductDetail
    :product="product"
    :product-stats="productStats"
    :specs-title="'Deskripsi PHC Manunggal Lestari Dekomposer'"
    :features-title="'Spesifikasi PHC Manunggal Lestari Dekomposer'"
    :benefits-title="'Manfaat PHC Manunggal Lestari'"
    :breadcrumb-parent="{ name: 'Pupuk Hayati Cair', to: '/#products' }"
  />
</template>

<script>
import { getProductById } from '@/data/product.js'
import ProductDetail from '@/components/product/ProductDetail.vue'

export default {
  name: 'ManunggalLestariDekomposer',
  components: { ProductDetail },
  
  data() {
    return {
      product: {},
      productStats: [
        { icon: 'fas fa-certificate', title: 'Berizin', value: 'No. 03.03.2025.89' },
        { icon: 'fas fa-flask', title: 'Teruji', value: 'Laboratorium Terakreditasi' },
        { icon: 'fas fa-leaf', title: 'Organik', value: '100% Ramah Lingkungan' }
      ]
    }
  },
  
  async beforeMount() {
    await this.loadProduct()
  },
  
  methods: {
    async loadProduct() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.product = getProductById('phc-manunggal-lestari-dekomposer') || {}
    }
  }
}
</script>

src/pages/manunggal-lestari.vue:
<template>
  <ProductDetail
    :product="product"
    :product-stats="productStats"
    :specs-title="'Deskripsi PHC Manunggal Lestari'"
    :features-title="'Spesifikasi PHC Manunggal Lestari'"
    :benefits-title="'Manfaat PHC Manunggal Lestari'"
    :breadcrumb-parent="{ name: 'Pupuk Hayati Cair', to: '/#products' }"
  />
</template>

<script>
import { getProductById } from '@/data/product.js'
import ProductDetail from '@/components/product/ProductDetail.vue'

export default {
  name: 'ManunggalLestari',
  components: { ProductDetail },
  
  data() {
    return {
      product: {},
      productStats: [
        { icon: 'fas fa-certificate', title: 'Berizin', value: 'No. 03.03.2025.89' },
        { icon: 'fas fa-flask', title: 'Teruji', value: 'Laboratorium Terakreditasi' },
        { icon: 'fas fa-leaf', title: 'Organik', value: '100% Ramah Lingkungan' }
      ]
    }
  },
  
  async beforeMount() {
    await this.loadProduct()
  },
  
  methods: {
    async loadProduct() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.product = getProductById('phc-manunggal-lestari') || {}
    }
  }
}
</script>

src/pages/manunggal-makmur.vue:
<template>
  <ProductDetail
    :product="product"
    :product-stats="productStats"
    :specs-title="'Spesifikasi Produk'"
    :features-title="'Keunggulan'"
    :benefits-title="'Manfaat'"
    :breadcrumb-parent="{ name: 'Pupuk Organik', to: '/#products' }"
  />
</template>

<script>
import { getProductById } from '@/data/product.js'
import ProductDetail from '@/components/product/ProductDetail.vue'

export default {
  name: 'ManunggalMakmur',
  components: { ProductDetail },
  
  data() {
    return {
      product: {},
      productStats: [
        { icon: 'fas fa-clock', title: 'Segera', value: 'Dalam Proses' },
        { icon: 'fas fa-recycle', title: 'Organik', value: '100% Alami' },
        { icon: 'fas fa-weight', title: 'Berat', value: '5kg - 50kg' }
      ]
    }
  },
  
  async beforeMount() {
    await this.loadProduct()
  },
  
  methods: {
    async loadProduct() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.product = getProductById('manunggal-makmur') || {}
    }
  }
}
</script>

src/pages/ptorca.vue:
<template>
  <ProductDetail
    :product="product"
    :product-stats="productStats"
    :specs-title="'Spesifikasi Produk'"
    :features-title="'Keunggulan'"
    :benefits-title="'Manfaat'"
    :breadcrumb-parent="{ name: 'Pupuk Organik Cair', to: '/#products' }"
  />
</template>

<script>
import { getProductById } from '@/data/product.js'
import ProductDetail from '@/components/product/ProductDetail.vue'

export default {
  name: 'Ptorca',
  components: { ProductDetail },
  
  data() {
    return {
      product: {},
      productStats: [
        { icon: 'fas fa-certificate', title: 'Berizin', value: 'No. 03.03.2025.91' },
        { icon: 'fas fa-flask', title: 'Teruji', value: 'Laboratorium Terakreditasi' },
        { icon: 'fas fa-leaf', title: 'Organik', value: '100% Ramah Lingkungan' }
      ]
    }
  },
  
  async beforeMount() {
    await this.loadProduct()
  },
  
  methods: {
    async loadProduct() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.product = getProductById('ptorca') || {}
    }
  }
}
</script>

src/pages/triobionik-detail.vue:
<template>
  <ProductDetail
    :product="product"
    :product-stats="productStats"
    :specs-title="'Spesifikasi Produk'"
    :features-title="'Kandungan Mikroorganisme'"
    :benefits-title="'Manfaat'"
    :breadcrumb-parent="{ name: 'Triobionik', to: '/triobionik' }"
  />
</template>

<script>
import { getTriobionikVariantById } from '@/data/product.js'
import ProductDetail from '@/components/product/ProductDetail.vue'

export default {
  name: 'TriobionikDetail',
  components: { ProductDetail },
  
  data() {
    return {
      product: {},
      productStats: [
        { icon: 'fas fa-certificate', title: 'Berizin', value: 'Terdaftar' },
        { icon: 'fas fa-flask', title: 'Teruji', value: 'Laboratorium Terakreditasi' },
        { icon: 'fas fa-leaf', title: 'Organik', value: '100% Ramah Lingkungan' }
      ]
    }
  },
  
  watch: {
    '$route.params.id': {
      async handler() {
        await this.loadProduct()
      },
      immediate: true
    }
  },
  
  async beforeMount() {
    await this.loadProduct()
  },
  
  methods: {
    async loadProduct() {
      await new Promise(resolve => setTimeout(resolve, 100))
      const id = this.$route.params.id
      this.product = getTriobionikVariantById(id) || {}
    }
  }
}
</script>

src/pages/triobionik-list.vue:
<template>
  <div class="product-detail-page">
    <section class="breadcrumb">
      <div class="container">
        <nav aria-label="Breadcrumb">
          <ol>
            <li><router-link to="/">Beranda</router-link></li>
            <li><router-link to="/#products">Produk</router-link></li>
            <li class="current">Triobionik</li>
          </ol>
        </nav>
      </div>
    </section>

    <section class="product-detail-page">
      <div class="container">
        <div class="section-title">
          <h1>Produk Triobionik</h1>
          <p>Berbagai varian pupuk hayati berkualitas untuk pertanian dan perkebunan</p>
        </div>

        <div class="related-products-grid">
          <router-link
            v-for="variant in variants"
            :key="variant.id"
            :to="`/triobionik/${variant.id}`"
            class="related-product-card"
          >
            <div class="related-product-img">
              <img
                :src="getPlaceholder()"
                :data-src="variant.image"
                :alt="variant.name"
                width="300"
                height="200"
                v-lazy
                loading="lazy"
                decoding="async"
              />
              <span v-if="variant.badge" class="product-badge badge-approved">{{ variant.badge }}</span>
            </div>
            <div class="related-product-info">
              <h4>{{ variant.name }}</h4>
              <p>{{ variant.shortDesc }}</p>
              <span class="related-product-link">
                Lihat Detail <i class="fas fa-arrow-right"></i>
              </span>
            </div>
          </router-link>
        </div>

        <section class="related-products">
          <div class="section-title">
            <h2>Produk Lainnya</h2>
            <p>Telusuri produk berkualitas lainnya dari PT. Manunggal Merdeka Makmur</p>
          </div>
          <div class="related-products-grid">
            <router-link
              v-for="product in relatedProducts"
              :key="product.id"
              :to="getProductLink(product)"
              class="related-product-card"
            >
              <div class="related-product-img">
                <img
                  :src="getPlaceholder()"
                  :data-src="product.images[0]"
                  :alt="product.title"
                  width="300"
                  height="200"
                  v-lazy
                  loading="lazy"
                />
              </div>
              <div class="related-product-info">
                <h4>{{ product.title }}</h4>
                <p>{{ truncateDescription(product.description) }}</p>
                <span class="related-product-link">
                  Lihat Detail <i class="fas fa-arrow-right"></i>
                </span>
              </div>
            </router-link>
          </div>
        </section>
      </div>
    </section>
  </div>
</template>

<script>
import { getTriobionikVariants, getApprovedProducts } from '@/data/product.js'

export default {
  name: 'TriobionikList',
  
  data() {
    return {
      variants: [],
      relatedProducts: [],
      isLoading: true,
      preloadedImages: []
    }
  },
  
  async beforeMount() {
    await this.preloadImages()
    await this.loadData()
  },
  
  mounted() {
    document.title = 'Triobionik - PT. Manunggal Merdeka Makmur'
    this.debounceScroll = this.debounce(() => {
      this.isLoading = false
      setTimeout(() => {
        if (window.App && window.App.lazyLoader) {
          window.App.lazyLoader.scan()
        }
      }, 200)
    }, 300)
    this.debounceScroll()
  },
  
  methods: {
    debounce(fn, delay) {
      let timer
      return (...args) => {
        clearTimeout(timer)
        timer = setTimeout(() => fn(...args), delay)
      }
    },
    
    async preloadImages() {
      const variants = getTriobionikVariants()
      const images = []
      
      variants.forEach(variant => {
        if (variant.image) images.push(variant.image)
      })
      
      await Promise.all(
        images.map(src => {
          return new Promise((resolve) => {
            const img = new Image()
            img.onload = () => {
              this.preloadedImages.push(src)
              resolve()
            }
            img.onerror = resolve
            img.src = src
          })
        })
      )
    },
    
    async loadData() {
      await new Promise(resolve => setTimeout(resolve, 100))
      this.variants = getTriobionikVariants()
      this.relatedProducts = getApprovedProducts().slice(0, 3)
    },
    
    getPlaceholder() {
      return 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 300"%3E%3Crect fill="%23f0f0f0" width="400" height="300"/%3E%3C/svg%3E'
    },
    
    getProductLink(product) {
      const routes = {
        'phc-manunggal-lestari': '/manunggal-lestari',
        'phc-manunggal-lestari-dekomposer': '/manunggal-lestari-dekomposer',
        'php-triobionik': '/triobionik',
        'manunggal-makmur': '/manunggal-makmur',
        'ptorca': '/ptorca'
      }
      return routes[product.id] || '/'
    },
    
    truncateDescription(desc) {
      if (!desc) return ''
      return desc.length > 100 ? desc.substring(0, 100) + '...' : desc
    }
  }
}
</script>


